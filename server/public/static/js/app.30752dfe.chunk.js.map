{"version":3,"sources":["components/JoinDialog.js","components/App.js"],"names":["parameters","URL","window","location","searchParams","joinDirect","get","styles","theme","root","display","width","height","backgroundColor","backgroundImage","config","background","backgroundAttachment","backgroundPosition","backgroundSize","backgroundRepeat","dialogTitle","dialogPaper","padding","spacing","breakpoints","down","logo","paddingBottom","loginButton","position","right","top","largeIcon","fontSize","largeAvatar","green","color","red","DialogTitle","withStyles","props","useState","open","setOpen","intl","useIntl","useEffect","openTimer","setTimeout","closeTimer","clearTimeout","children","classes","myPicture","onLogin","loggedIn","other","loginTooltip","formatMessage","id","defaultMessage","disableTypography","className","alt","src","logo_black","Typography","variant","loginEnabled","Tooltip","onClose","onOpen","title","placement","IconButton","aria-label","onClick","Avatar","classnames","DialogContent","MuiDialogContent","DialogActions","margin","MuiDialogActions","withRoomContext","connect","state","room","displayName","settings","displayNameInProgress","me","picture","dispatch","changeDisplayName","settingsActions","areStatesEqual","next","prev","inLobby","signInRequired","overRoomLimit","roomClient","roomId","unid","Date","getTime","toString","join","joinVideo","Dialog","paper","logout","login","DialogContentText","gutterBottom","align","values","roomName","TextField","label","value","disabled","onChange","event","target","onKeyDown","key","trim","onBlur","uid","fullWidth","style","fontWeight","Button","e","isElectron","buttonText","Room","ReactLazyPreload","useParams","toLowerCase","preload","joined","fallback","LoadingView"],"mappings":"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","file":"static/js/app.30752dfe.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withRoomContext } from '../RoomContext';\nimport classnames from 'classnames';\nimport isElectron from 'is-electron';\nimport * as settingsActions from '../actions/settingsActions';\nimport PropTypes from 'prop-types';\nimport { useIntl, FormattedMessage } from 'react-intl';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport IconButton from '@material-ui/core/IconButton';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport CookieConsent from 'react-cookie-consent';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\n\nconst urlParser = new URL(window.location);\nconst parameters = urlParser.searchParams;\nconst accessCode = parameters.get('code');\nconst produce = parameters.get('produce') !== 'false';\nconst forceTcp = parameters.get('forceTcp') === 'true';\nconst displayName = parameters.get('displayName');\nconst muted = parameters.get('muted') === 'true';\nconst joinDirect = parameters.get('join') === 'true';\n\nconst styles = (theme) =>\n\t({\n\t\troot :\n\t\t{\n\t\t\tdisplay              : 'flex',\n\t\t\twidth                : '100%',\n\t\t\theight               : '100%',\n\t\t\tbackgroundColor      : 'var(--background-color)',\n\t\t\tbackgroundImage      : `url(${window.config ? window.config.background : null})`,\n\t\t\tbackgroundAttachment : 'fixed',\n\t\t\tbackgroundPosition   : 'center',\n\t\t\tbackgroundSize       : 'cover',\n\t\t\tbackgroundRepeat     : 'no-repeat'\n\t\t},\n\t\tdialogTitle :\n\t\t{\n\t\t},\n\t\tdialogPaper :\n\t\t{\n\t\t\twidth                          : '30vw',\n\t\t\tpadding                        : theme.spacing(2),\n\t\t\t[theme.breakpoints.down('lg')] :\n\t\t\t{\n\t\t\t\twidth : '40vw'\n\t\t\t},\n\t\t\t[theme.breakpoints.down('md')] :\n\t\t\t{\n\t\t\t\twidth : '50vw'\n\t\t\t},\n\t\t\t[theme.breakpoints.down('sm')] :\n\t\t\t{\n\t\t\t\twidth : '70vw'\n\t\t\t},\n\t\t\t[theme.breakpoints.down('xs')] :\n\t\t\t{\n\t\t\t\twidth : '90vw'\n\t\t\t}\n\t\t},\n\t\tlogo :\n\t\t{\n\t\t\tdisplay       : 'block',\n\t\t\tpaddingBottom : '1vh'\n\t\t},\n\t\tloginButton :\n\t\t{\n\t\t\tposition : 'absolute',\n\t\t\tright    : theme.spacing(2),\n\t\t\ttop      : theme.spacing(2),\n\t\t\tpadding  : 0\n\t\t},\n\t\tlargeIcon :\n\t\t{\n\t\t\tfontSize : '2em'\n\t\t},\n\t\tlargeAvatar :\n\t\t{\n\t\t\twidth  : 50,\n\t\t\theight : 50\n\t\t},\n\t\tgreen :\n\t\t{\n\t\t\tcolor : 'rgba(0, 153, 0, 1)'\n\t\t},\n\t\tred :\n\t\t{\n\t\t\tcolor : 'rgba(153, 0, 0, 1)'\n\t\t}\n\t});\n\nconst DialogTitle = withStyles(styles)((props) =>\n{\n\tconst [ open, setOpen ] = useState(false);\n\n\tconst intl = useIntl();\n\n\tuseEffect(() =>\n\t{\n\t\tconst openTimer = setTimeout(() => setOpen(true), 1000);\n\t\tconst closeTimer = setTimeout(() => setOpen(false), 4000);\n\n\t\treturn () =>\n\t\t{\n\t\t\tclearTimeout(openTimer);\n\t\t\tclearTimeout(closeTimer);\n\t\t};\n\t}, []);\n\n\tconst { children, classes, myPicture, onLogin, loggedIn, ...other } = props;\n\n\tconst handleTooltipClose = () =>\n\t{\n\t\tsetOpen(false);\n\t};\n\n\tconst handleTooltipOpen = () =>\n\t{\n\t\tsetOpen(true);\n\t};\n\n\tconst loginTooltip = loggedIn ?\n\t\tintl.formatMessage({\n\t\t\tid             : 'tooltip.logout',\n\t\t\tdefaultMessage : 'Log out'\n\t\t})\n\t\t:\n\t\tintl.formatMessage({\n\t\t\tid             : 'tooltip.login',\n\t\t\tdefaultMessage : 'Log in'\n\t\t});\n\n\treturn (\n\t\t<MuiDialogTitle disableTypography className={classes.dialogTitle} {...other}>\n\t\t\t{ window.config.logo && <img alt='Logo' className={classes.logo} src={window.config.logo_black} /> }\n\t\t\t<Typography variant='h5'>{children}</Typography>\n\t\t\t{ window.config.loginEnabled &&\n\t\t\t\t<Tooltip\n\t\t\t\t\tonClose={handleTooltipClose}\n\t\t\t\t\tonOpen={handleTooltipOpen}\n\t\t\t\t\topen={open}\n\t\t\t\t\ttitle={loginTooltip}\n\t\t\t\t\tplacement='left'\n\t\t\t\t>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\taria-label='Account'\n\t\t\t\t\t\tclassName={classes.loginButton}\n\t\t\t\t\t\tcolor='inherit'\n\t\t\t\t\t\tonClick={onLogin}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ myPicture ?\n\t\t\t\t\t\t\t<Avatar src={myPicture} className={classes.largeAvatar} />\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<AccountCircle\n\t\t\t\t\t\t\t\tclassName={classnames(classes.largeIcon, loggedIn ? classes.green : null)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Tooltip>\n\t\t\t}\n\t\t</MuiDialogTitle>\n\t);\n});\n\nconst DialogContent = withStyles((theme) => ({\n\troot :\n\t{\n\t\tpadding : theme.spacing(2)\n\t}\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme) => ({\n\troot :\n\t{\n\t\tmargin  : 0,\n\t\tpadding : theme.spacing(1)\n\t}\n}))(MuiDialogActions);\n\nconst JoinDialog = ({\n\troomClient,\n\troom,\n\troomId,\n\tdisplayName,\n\tdisplayNameInProgress,\n\tloggedIn,\n\tmyPicture,\n\tchangeDisplayName,\n\tclasses\n}) =>\n{\n\tconst intl = useIntl();\n\tvar unid = (new Date().getTime()).toString(36);\n\tvar displayNameTxt=\"\";\n\tif(joinDirect){\n\t\troomClient.join({ roomId, joinVideo: true });\n\t}\n\tconst handleKeyDown = (event) =>\n\t{\n\t\tconst { key } = event;\n\n\t\tswitch (key)\n\t\t{\n\t\t\tcase 'Enter':\n\t\t\tcase 'Escape':\n\t\t\t{\n\t\t\t\tif (displayName === '')\n\t\t\t\t\tchangeDisplayName('Guest ' + unid);\n\t\t\t\tif (displayName.toString().trim() == 'Guest')\n\t\t\t\t\tchangeDisplayName('Guest ' + unid);\n\t\t\t\tif (room.inLobby)\n\t\t\t\t\troomClient.changeDisplayName(displayName);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t\n\t//if (displayName != 'Guest')  {displayNameTxt = displayName;}\n\t//if (displayName == '')  {displayNameTxt = displayName;}\n\t\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper : classes.dialogPaper\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<DialogTitle\n\t\t\t\t\tmyPicture={myPicture}\n\t\t\t\t\tonLogin={() =>\n\t\t\t\t\t{\n\t\t\t\t\t\tloggedIn ? roomClient.logout(roomId) : roomClient.login(roomId);\n\t\t\t\t\t}}\n\t\t\t\t\tloggedIn={loggedIn}\n\t\t\t\t>\n\t\t\t\t\t{ window.config.title ? window.config.title : 'Multiparty meeting' }\n\t\t\t\t\t<hr />\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText gutterBottom>\n\t\t\t\t\t\t<FormattedMessage\n\t\t\t\t\t\t\tid='room.aboutToJoin'\n\t\t\t\t\t\t\tdefaultMessage='You are about to join a meeting'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContentText>\n\n\t\t\t\t\t<DialogContentText variant='h6' gutterBottom align='center'>\n\t\t\t\t\t\t<FormattedMessage\n\t\t\t\t\t\t\tid='room.roomId'\n\t\t\t\t\t\t\tdefaultMessage='Room ID: {roomName}'\n\t\t\t\t\t\t\tvalues={{\n\t\t\t\t\t\t\t\troomName : roomId\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContentText>\n\n\t\t\t\t\t<DialogContentText gutterBottom>\n\t\t\t\t\t\t<FormattedMessage\n\t\t\t\t\t\t\tid='room.setYourName'\n\t\t\t\t\t\t\tdefaultMessage={\n\t\t\t\t\t\t\t\t`Set your name for participation, \n\t\t\t\t\t\t\t\tand choose how you want to join:`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</DialogContentText>\n\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid='displayname'\n\t\t\t\t\t\tlabel={intl.formatMessage({\n\t\t\t\t\t\t\tid             : 'label.yourName',\n\t\t\t\t\t\t\tdefaultMessage : 'Your name'\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tvalue={displayName}\n\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\tmargin='normal'\n\t\t\t\t\t\tdisabled={displayNameInProgress}\n\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst { value } = event.target;\n\n\t\t\t\t\t\t\tchangeDisplayName(value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonKeyDown={handleKeyDown}\n\t\t\t\t\t\tonBlur={() =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (displayName === '') {\n\t\t\t\t\t\t\t\tvar uid = (new Date().getTime()).toString(36);\n\t\t\t\t\t\t\t\tchangeDisplayName('Guest '+uid);\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (room.inLobby)\n\t\t\t\t\t\t\t\troomClient.changeDisplayName(displayName);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t/>\n\t\t\t\t\t{!room.inLobby && room.overRoomLimit &&\n\t\t\t\t\t\t<DialogContentText className={classes.red} variant='h6' gutterBottom>\n\t\t\t\t\t\t\t<FormattedMessage\n\t\t\t\t\t\t\t\tid='room.overRoomLimit'\n\t\t\t\t\t\t\t\tdefaultMessage={\n\t\t\t\t\t\t\t\t\t'The room is full, retry after some time.'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t}\n\n\t\t\t\t</DialogContent>\n\n\t\t\t\t{ !room.inLobby ?\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\te.target.disabled = true;\n\t\t\t\t\t\t\t\troomClient.join({ roomId, joinVideo: false });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FormattedMessage\n\t\t\t\t\t\t\t\tid='room.audioOnly'\n\t\t\t\t\t\t\t\tdefaultMessage='Audio only'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tid='button.audnvid' \n\t\t\t\t\t\t\tonClick={e =>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\te.target.disabled = true;\n\t\t\t\t\t\t\t\troomClient.join({ roomId, joinVideo: true });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvariant='contained'\n\t\t\t\t\t\t\tcolor='secondary'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FormattedMessage\n\t\t\t\t\t\t\t\tid='room.audioVideo'\n\t\t\t\t\t\t\t\tdefaultMessage='Audio and Video'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t\t:\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\tclassName={classes.green}\n\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\tvariant='h6'\n\t\t\t\t\t\t\tstyle={{ fontWeight: '600' }}\n\t\t\t\t\t\t\talign='center'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FormattedMessage\n\t\t\t\t\t\t\t\tid='room.youAreReady'\n\t\t\t\t\t\t\t\tdefaultMessage='Ok, you are ready'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t{ room.signInRequired ?\n\t\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\tvariant='h5'\n\t\t\t\t\t\t\t\tstyle={{ fontWeight: '600' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormattedMessage\n\t\t\t\t\t\t\t\t\tid='room.emptyRequireLogin'\n\t\t\t\t\t\t\t\t\tdefaultMessage={\n\t\t\t\t\t\t\t\t\t\t`The room is empty! You can Log In to start \n\t\t\t\t\t\t\t\t\t\tthe meeting or wait until the host joins`\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t<DialogContentText\n\t\t\t\t\t\t\t\tgutterBottom\n\t\t\t\t\t\t\t\tvariant='h5'\n\t\t\t\t\t\t\t\tstyle={{ fontWeight: '600' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormattedMessage\n\t\t\t\t\t\t\t\t\tid='room.locketWait'\n\t\t\t\t\t\t\t\t\tdefaultMessage='The room is locked - hang on until somebody lets you in ...'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t\t}\n\t\t\t\t\t</DialogContent>\n\t\t\t\t}\n\n\t\t\t\t{ !isElectron() &&\n\t\t\t\t\t<CookieConsent buttonText={intl.formatMessage({\n\t\t\t\t\t\tid             : 'room.consentUnderstand',\n\t\t\t\t\t\tdefaultMessage : 'I understand'\n\t\t\t\t\t})}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FormattedMessage\n\t\t\t\t\t\t\tid='room.cookieConsent'\n\t\t\t\t\t\t\tdefaultMessage='This website uses cookies to enhance the user experience'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</CookieConsent>\n\t\t\t\t}\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nJoinDialog.propTypes =\n{\n\troomClient            : PropTypes.any.isRequired,\n\troom                  : PropTypes.object.isRequired,\n\troomId                : PropTypes.string.isRequired,\n\tdisplayName           : PropTypes.string.isRequired,\n\tdisplayNameInProgress : PropTypes.bool.isRequired,\n\tloginEnabled          : PropTypes.bool.isRequired,\n\tloggedIn              : PropTypes.bool.isRequired,\n\tmyPicture             : PropTypes.string,\n\tchangeDisplayName     : PropTypes.func.isRequired,\n\tclasses               : PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) =>\n{\n\treturn {\n\t\troom                  : state.room,\n\t\tdisplayName           : state.settings.displayName,\n\t\tdisplayNameInProgress : state.me.displayNameInProgress,\n\t\tloginEnabled          : state.me.loginEnabled,\n\t\tloggedIn              : state.me.loggedIn,\n\t\tmyPicture             : state.me.picture\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) =>\n{\n\treturn {\n\t\tchangeDisplayName : (displayName) =>\n\t\t{\n\t\t\tdispatch(settingsActions.setDisplayName(displayName));\n\t\t}\n\t};\n};\n\nexport default withRoomContext(connect(\n\tmapStateToProps,\n\tmapDispatchToProps,\n\tnull,\n\t{\n\t\tareStatesEqual : (next, prev) =>\n\t\t{\n\t\t\treturn (\n\t\t\t\tprev.room.inLobby === next.room.inLobby &&\n\t\t\t\tprev.room.signInRequired === next.room.signInRequired &&\n\t\t\t\tprev.room.overRoomLimit === next.room.overRoomLimit &&\n\t\t\t\tprev.settings.displayName === next.settings.displayName &&\n\t\t\t\tprev.me.displayNameInProgress === next.me.displayNameInProgress &&\n\t\t\t\tprev.me.loginEnabled === next.me.loginEnabled &&\n\t\t\t\tprev.me.loggedIn === next.me.loggedIn &&\n\t\t\t\tprev.me.picture === next.me.picture\n\t\t\t);\n\t\t}\n\t}\n)(withStyles(styles)(JoinDialog)));","import React, { useEffect, Suspense } from 'react';\nimport { useParams } from 'react-router';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport JoinDialog from './JoinDialog';\nimport LoadingView from './LoadingView';\nimport { ReactLazyPreload } from './ReactLazyPreload';\n\nconst Room = ReactLazyPreload(() => import(/* webpackChunkName: \"room\" */ './Room'));\n\nconst App = (props) =>\n{\n\tconst {\n\t\troom\n\t} = props;\n\n\tconst id = useParams().id.toLowerCase();\n\n\tuseEffect(() =>\n\t{\n\t\tRoom.preload();\n\n\t\treturn;\n\t}, []);\n\n\tif (!room.joined)\n\t{\n\t\treturn (\n\t\t\t<JoinDialog roomId={id} />\n\t\t);\n\t}\n\telse\n\t{\n\t\treturn (\n\t\t\t<Suspense fallback={<LoadingView />}>\n\t\t\t\t<Room />\n\t\t\t</Suspense>\n\t\t);\n\t}\n};\n\nApp.propTypes =\n{\n\troom : PropTypes.object.isRequired\n};\n\nconst mapStateToProps = (state) =>\n\t({\n\t\troom : state.room\n\t});\n\nexport default connect(\n\tmapStateToProps,\n\tnull,\n\tnull,\n\t{\n\t\tareStatesEqual : (next, prev) =>\n\t\t{\n\t\t\treturn (\n\t\t\t\tprev.room === next.room\n\t\t\t);\n\t\t}\n\t}\n)(App);"],"sourceRoot":""}