(this["webpackJsonpmultiparty-meeting"]=this["webpackJsonpmultiparty-meeting"]||[]).push([[6],{363:function(e,a,t){e.exports=t.p+"static/media/avatar-empty.23a3776b.jpeg"},680:function(e,a,t){"use strict";t.r(a);var n=t(45),r=t(58),o=t(72),l=t(73),i=t(11),s=t(0),c=t.n(s),u=t(133),d=t(6),m=t.n(d),p=(m.a.shape({state:m.a.oneOf(["new","connecting","connected","closed"]).isRequired,activeSpeakerId:m.a.string}),m.a.shape({id:m.a.string.isRequired,canSendMic:m.a.bool.isRequired,canSendWebcam:m.a.bool.isRequired,webcamInProgress:m.a.bool.isRequired}),m.a.shape({id:m.a.string.isRequired,source:m.a.oneOf(["mic","webcam","screen","extravideo"]).isRequired,deviceLabel:m.a.string,type:m.a.oneOf(["front","back","screen","extravideo"]),paused:m.a.bool.isRequired,track:m.a.any,codec:m.a.string.isRequired}),m.a.shape({id:m.a.string.isRequired,displayName:m.a.string,consumers:m.a.arrayOf(m.a.string).isRequired}),m.a.shape({id:m.a.string.isRequired,peerId:m.a.string.isRequired,source:m.a.oneOf(["mic","webcam","screen","extravideo"]).isRequired,locallyPaused:m.a.bool.isRequired,remotelyPaused:m.a.bool.isRequired,remotelyLocked:m.a.bool.isRequired,profile:m.a.oneOf(["none","default","low","medium","high"]),track:m.a.any,codec:m.a.string}),m.a.shape({id:m.a.string.isRequired,type:m.a.oneOf(["info","error"]).isRequired,timeout:m.a.number}),m.a.shape({type:m.a.string,component:m.a.string,text:m.a.string,sender:m.a.string}),m.a.shape({data:m.a.shape({id:m.a.string.isRequired,picture:m.a.string,file:m.a.shape({magnet:m.a.string.isRequired}).isRequired,me:m.a.bool}).isRequired,notify:m.a.func.isRequired}),t(7)),f=t(94),g=t.n(f),b=t(8),h=function(e){return{type:"SET_TOOL_TAB",payload:{toolTab:e}}},v=t(120),E={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},y=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror"],w=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror"],M=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError"],k=function(){function e(a){Object(n.a)(this,e),this.document=a,this.vendor="fullscreenEnabled"in this.document&&Object.keys(E)||y[0]in this.document&&y||w[0]in this.document&&w||M[0]in this.document&&M||[]}return Object(r.a)(e,[{key:"requestFullscreen",value:function(e){e[this.vendor[E.requestFullscreen]]()}},{key:"requestFullscreenFunction",value:function(e){e[this.vendor[E.requestFullscreen]]}},{key:"addEventListener",value:function(e,a){this.document.addEventListener(this.vendor[E[e]],a)}},{key:"removeEventListener",value:function(e,a){this.document.removeEventListener(this.vendor[E[e]],a)}},{key:"exitFullscreen",get:function(){return this.document[this.vendor[E.exitFullscreen]].bind(this.document)}},{key:"fullscreenEnabled",get:function(){return Boolean(this.document[this.vendor[E.fullscreenEnabled]])},set:function(e){}},{key:"fullscreenElement",get:function(){return this.document[this.vendor[E.fullscreenElement]]},set:function(e){}},{key:"onfullscreenchange",get:function(){return this.document["on".concat(this.vendor[E.fullscreenchange]).toLowerCase()]},set:function(e){this.document["on".concat(this.vendor[E.fullscreenchange]).toLowerCase()]=e}},{key:"onfullscreenerror",get:function(){return this.document["on".concat(this.vendor[E.fullscreenerror]).toLowerCase()]},set:function(e){this.document["on".concat(this.vendor[E.fullscreenerror]).toLowerCase()]=e}}]),e}(),C=t(81),S=t(143),O=t.n(S),N=t(679),T=t(682),j=t(473),x=t(288),P=t(31),L=t(157),I=t(83),A=window.config.notificationPosition||"right",R=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){var e;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=a.call.apply(a,[this].concat(o))).displayed=[],e.storeDisplayed=function(a){e.displayed=[].concat(Object(P.a)(e.displayed),[a])},e}return Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e){for(var a=e.notifications,t=void 0===a?[]:a,n=this.props.notifications,r=!1,o=function(e){if(r)return"continue";r=r||!n.filter((function(a){var n=a.id;return t[e].id===n})).length},l=0;l<t.length;l+=1)o(l);return r}},{key:"componentDidUpdate",value:function(){var e=this,a=this.props.notifications;(void 0===a?[]:a).forEach((function(a){e.displayed.includes(a.id)||(e.props.enqueueSnackbar(a.text,{variant:a.type,autoHideDuration:a.timeout,anchorOrigin:{vertical:"bottom",horizontal:A}}),e.storeDisplayed(a.id),e.props.removeNotification(a.id))}))}},{key:"render",value:function(){return null}}]),t}(s.Component),B=Object(L.b)(Object(u.b)((function(e){return{notifications:e.notifications}}),(function(e){return{removeNotification:function(a){return e(I.c({notificationId:a}))}}}),null,{areStatesEqual:function(e,a){return a.notifications===e.notifications}})(R)),V=t(599),D=function(e){return e.me.roles},F=function(e){return e.room.roomPermissions},z=function(e){return e.room.allowWhenRoleMissing},H=function(e){return e.producers},W=function(e){return e.consumers},q=function(e){return e.room.spotlights},U=function(e){return e.peers},_=function(e,a){return e.peers[a]?e.peers[a].consumers:null},G=function(e){return e.consumers},Y=Object(V.a)(U,(function(e){return Object.keys(e)})),K=Object(V.a)(U,(function(e){return Object.values(e)})),Q=Object(V.a)((function(e){return e.lobbyPeers}),(function(e){return Object.keys(e)})),X=(Object(V.a)(H,(function(e){return Object.values(e).filter((function(e){return"mic"===e.source}))})),Object(V.a)(H,(function(e){return Object.values(e).filter((function(e){return"webcam"===e.source}))})),Object(V.a)(H,(function(e){return Object.values(e).filter((function(e){return"screen"===e.source}))}))),J=Object(V.a)(H,(function(e){return Object.values(e).filter((function(e){return"extravideo"===e.source}))})),$=Object(V.a)(H,(function(e){return Object.values(e).find((function(e){return"mic"===e.source}))})),Z=Object(V.a)(H,(function(e){return Object.values(e).find((function(e){return"webcam"===e.source}))})),ee=Object(V.a)(H,(function(e){return Object.values(e).find((function(e){return"screen"===e.source}))})),ae=(Object(V.a)(W,(function(e){return Object.values(e).filter((function(e){return"mic"===e.source}))})),Object(V.a)(W,(function(e){return Object.values(e).filter((function(e){return"webcam"===e.source}))})),Object(V.a)(W,(function(e){return Object.values(e).filter((function(e){return"screen"===e.source}))})),Object(V.a)(q,W,(function(e,a){return Object.values(a).filter((function(a){return"screen"===a.source&&e.includes(a.peerId)}))}))),te=Object(V.a)(q,W,(function(e,a){return Object.values(a).filter((function(a){return"extravideo"===a.source&&e.includes(a.peerId)}))})),ne=Object(V.a)(q,W,(function(e,a){return Object.values(a).filter((function(a){return"mic"===a.source&&!e.includes(a.peerId)}))})),re=Object(V.a)(q,(function(e){return e.length})),oe=Object(V.a)(q,Y,(function(e,a){return a.filter((function(a){return e.includes(a)}))})),le=Object(V.a)(q,K,(function(e,a){return a.filter((function(a){return e.includes(a.id)&&!a.raisedHand})).sort((function(e,a){return String(e.displayName||"").localeCompare(String(a.displayName||""))}))})),ie=Object(V.a)(K,(function(e){return e.filter((function(e){return e.raisedHand})).sort((function(e,a){return e.raisedHandTimestamp-a.raisedHandTimestamp}))})),se=Object(V.a)(q,K,(function(e,a){return a.filter((function(a){return!e.includes(a.id)&&!a.raisedHand})).sort((function(e,a){return String(e.displayName||"").localeCompare(String(a.displayName||""))}))})),ce=Object(V.a)(ie,le,se,(function(e,a,t){return[].concat(Object(P.a)(e),Object(P.a)(a),Object(P.a)(t))})),ue=Object(V.a)(U,(function(e){return Object.values(e).length})),de=(Object(V.a)(K,q,(function(e,a){return e.filter((function(e){return!a.includes(e.id)})).sort((function(e,a){return String(e.displayName||"").localeCompare(String(a.displayName||""))}))})),Object(V.a)(K,(function(e){return e.reduce((function(e,a){return e+(a.raisedHand?1:0)}),0)}))),me=Object(V.a)(re,X,ae,J,te,(function(e,a,t,n,r){return e+1+a.length+t.length+n.length+r.length})),pe=Object(V.a)($,Z,ee,J,(function(e,a,t,n){return{micProducer:e,webcamProducer:a,screenProducer:t,extraVideoProducers:n}})),fe=function(){return Object(V.a)(_,G,(function(e,a){if(!e)return null;var t=e.map((function(e){return a[e]}));return{micConsumer:t.find((function(e){return"mic"===e.source})),webcamConsumer:t.find((function(e){return"webcam"===e.source})),screenConsumer:t.find((function(e){return"screen"===e.source})),extraVideoConsumers:t.filter((function(e){return"extravideo"===e.source}))}}))},ge=function(e){return Object(V.a)(D,F,z,K,(function(a,t,n,r){return!!t&&(!!a.some((function(a){return t[e].includes(a)}))||!!n&&!(!n.includes(e)||0!==r.filter((function(a){return a.roles.some((function(a){return t[e].includes(a)}))})).length))}))},be=t(219),he=t(668),ve=t(681),Ee=t(669),ye=t(670),we=t(197),Me=t(136),ke="CHANGE_ROOM_LOCK",Ce="PROMOTE_PEER",Se="SEND_CHAT",Oe="MODERATE_CHAT",Ne="SHARE_SCREEN",Te="EXTRA_VIDEO",je="SHARE_FILE",xe="MODERATE_FILES",Pe="MODERATE_ROOM",Le=t(287),Ie=Object(Me.b)(Object(u.b)((function(){var e=ge(Oe);return function(a){return{isChatModerator:e(a),room:a.room}}}),null,null,{areStatesEqual:function(e,a){return a.room===e.room&&a.me===e.me&&a.peers===e.peers}})(Object(p.a)((function(e){return{root:{display:"flex",padding:e.spacing(1),boxShadow:"0 2px 5px 2px rgba(0, 0, 0, 0.2)",backgroundColor:"rgba(255, 255, 255, 1)"},listheader:{padding:e.spacing(1),fontWeight:"bolder"},actionButton:{marginLeft:"auto"}}}))((function(e){var a=Object(be.a)(),t=e.roomClient,n=e.isChatModerator,r=e.room,o=e.classes;return n?c.a.createElement("ul",{className:o.root},c.a.createElement("li",{className:o.listheader},c.a.createElement(C.a,{id:"room.moderatoractions",defaultMessage:"Moderator actions"})),c.a.createElement(Le.a,{"aria-label":a.formatMessage({id:"room.clearChat",defaultMessage:"Clear chat"}),className:o.actionButton,variant:"contained",color:"secondary",disabled:r.clearChatInProgress,onClick:function(){return t.clearChat()}},c.a.createElement(C.a,{id:"room.clearChat",defaultMessage:"Clear chat"}))):null})))),Ae=t(134),Re=t(344),Be=t.n(Re),Ve=t(600),De=t.n(Ve),Fe=t(601),ze=t.n(Fe),He=t(71),We=new ze.a.Renderer;We.link=function(e,a,t){return a=a||e,t=t||e,"<a target='_blank' href='".concat(e,"' title='").concat(a,"'>").concat(t,"</a>")};var qe=Object(p.a)((function(e){return{root:{display:"flex",marginBottom:e.spacing(1),padding:e.spacing(1),flexShrink:0},selfMessage:{marginLeft:"auto"},remoteMessage:{marginRight:"auto"},text:{"& p":{margin:0}},content:{marginLeft:e.spacing(1)},avatar:{borderRadius:"50%",height:"2rem",alignSelf:"center"}}}))((function(e){var a=Object(be.a)(),t=e.self,n=e.picture,r=e.text,o=e.time,l=e.name,i=e.classes;return c.a.createElement(we.a,{className:Be()(i.root,t?i.selfMessage:i.remoteMessage)},c.a.createElement("img",{alt:"Avatar",className:i.avatar,src:n}),c.a.createElement("div",{className:i.content},c.a.createElement(He.a,{className:i.text,variant:"subtitle1",dangerouslySetInnerHTML:{__html:De.a.sanitize(ze.a.parse(r,{renderer:We}),{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href","target","title"]})}}),c.a.createElement(He.a,{variant:"caption"},t?a.formatMessage({id:"room.me",defaultMessage:"Me"}):l," - ",o)))})),Ue=t(363),_e=t.n(Ue),Ge=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.node.scrollTop=this.node.scrollHeight}},{key:"getSnapshotBeforeUpdate",value:function(){return this.node.scrollTop+this.node.offsetHeight===this.node.scrollHeight}},{key:"shouldComponentUpdate",value:function(e){return e.chat.length!==this.props.chat.length}},{key:"componentDidUpdate",value:function(e,a,t){t&&(this.node.scrollTop=this.node.scrollHeight)}},{key:"getTimeString",value:function(e){return c.a.createElement(Ae.a,{value:new Date(e)})}},{key:"render",value:function(){var e=this,a=this.props,t=a.chat,n=a.myPicture,r=a.classes;return c.a.createElement("div",{className:r.root,ref:function(a){e.node=a}},t.map((function(a,t){var r=("response"===a.sender?a.picture:n)||_e.a;return c.a.createElement(qe,{key:t,self:"client"===a.sender,picture:r,text:a.text,time:e.getTimeString(a.time),name:a.name})})))}}]),t}(c.a.Component),Ye=Object(u.b)((function(e){return{chat:e.chat,myPicture:e.me.picture}}),null,null,{areStatesEqual:function(e,a){return a.chat===e.chat&&a.me.picture===e.me.picture}})(Object(p.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",overflowY:"auto",padding:e.spacing(1)}}}))(Ge)),Ke=t(55),Qe=t(207),Xe=t(662),Je=t(604),$e=t.n(Je),Ze=Object(Me.b)(Object(u.b)((function(){var e=ge(Se);return function(a){return{displayName:a.settings.displayName,picture:a.me.picture,canChat:e(a)}}}),null,null,{areStatesEqual:function(e,a){return a.room===e.room&&a.me.roles===e.me.roles&&a.peers===e.peers&&a.settings.displayName===e.settings.displayName&&a.me.picture===e.me.picture}})(Object(p.a)((function(e){return{root:{padding:e.spacing(1),display:"flex",alignItems:"center",borderRadius:0},input:{marginLeft:8,flex:1},iconButton:{padding:10}}}))((function(e){var a=Object(s.useState)(""),t=Object(Ke.a)(a,2),n=t[0],r=t[1],o=Object(be.a)(),l=function(e,a,t,n){return{type:"message",text:e,time:Date.now(),name:t,sender:a,picture:n}},i=e.roomClient,u=e.displayName,d=e.picture,m=e.canChat,p=e.classes;return c.a.createElement(we.a,{className:p.root},c.a.createElement(Qe.a,{className:p.input,placeholder:o.formatMessage({id:"label.chatInput",defaultMessage:"Enter chat message..."}),value:n||"",disabled:!m,onChange:function(e){r(e.target.value)},onKeyPress:function(e){if("Enter"===e.key&&(e.preventDefault(),n&&""!==n)){var a=l(n,"response",u,d);i.sendChatMessage(a),r("")}},autoFocus:!0}),c.a.createElement(Xe.a,{color:"primary",className:p.iconButton,"aria-label":"Send",disabled:!m,onClick:function(){if(n&&""!==n){var e=l(n,"response",u,d);i.sendChatMessage(e),r("")}}},c.a.createElement($e.a,null)))})))),ea=Object(p.a)((function(){return{root:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflowY:"auto"}}}))((function(e){var a=e.classes;return c.a.createElement(we.a,{className:a.root},c.a.createElement(Ie,null),c.a.createElement(Ye,null),c.a.createElement(Ze,null))})),aa=t(3),ta=t.n(aa),na=t(9),ra=t(59),oa=t(383),la=t.n(oa),ia=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"render",value:function(){var e=this.props,a=e.roomClient,t=e.displayName,n=e.picture,r=e.canShareFiles,o=e.magnetUri,l=e.file,i=e.classes;return c.a.createElement("div",{className:i.root},c.a.createElement("img",{alt:"Avatar",className:i.avatar,src:n}),c.a.createElement("div",{className:i.fileContent},l.files&&c.a.createElement(s.Fragment,null,c.a.createElement(He.a,{className:i.text},c.a.createElement(C.a,{id:"filesharing.finished",defaultMessage:"File finished downloading"})),l.files.map((function(e,t){return c.a.createElement("div",{className:i.fileInfo,key:t},c.a.createElement(He.a,{className:i.text},e.name),c.a.createElement(Le.a,{variant:"contained",component:"span",className:i.button,onClick:function(){a.saveFile(e)}},c.a.createElement(C.a,{id:"filesharing.save",defaultMessage:"Save"})))}))),c.a.createElement(He.a,{className:i.text},c.a.createElement(C.a,{id:"filesharing.sharedFile",defaultMessage:"{displayName} shared a file",values:{displayName:t}})),!l.active&&!l.files&&c.a.createElement("div",{className:i.fileInfo},c.a.createElement(He.a,{className:i.text},la.a.decode(o).dn),r?c.a.createElement(Le.a,{variant:"contained",component:"span",className:i.button,onClick:function(){a.handleDownload(o)}},c.a.createElement(C.a,{id:"filesharing.download",defaultMessage:"Download"})):c.a.createElement(He.a,{className:i.text},c.a.createElement(C.a,{id:"label.fileSharingUnsupported",defaultMessage:"File sharing not supported"}))),l.timeout&&c.a.createElement(He.a,{className:i.text},c.a.createElement(C.a,{id:"filesharing.missingSeeds",defaultMessage:"If this process takes a long time, there might not \n\t\t\t\t\t\t\t\t\tbe anyone seeding this torrent. Try asking someone to \n\t\t\t\t\t\t\t\t\treupload the file that you want."})),l.active&&c.a.createElement("progress",{value:l.progress})))}}]),t}(c.a.PureComponent),sa=Object(Me.b)(Object(u.b)((function(e,a){var t=a.magnetUri;return{file:e.files[t],canShareFiles:e.me.canShareFiles}}),null,null,{areStatesEqual:function(e,a){return a.files===e.files&&a.me.canShareFiles===e.me.canShareFiles}})(Object(p.a)((function(e){return{root:{display:"flex",alignItems:"center",width:"100%",padding:e.spacing(1),boxShadow:"0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12)","&:not(:last-child)":{marginBottom:e.spacing(1)}},avatar:{borderRadius:"50%",height:"2rem"},text:{margin:0,padding:e.spacing(1)},fileContent:{display:"flex",alignItems:"center"},fileInfo:{display:"flex",alignItems:"center",padding:e.spacing(1)},button:{marginRight:"auto"}}}))(ia))),ca=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.node.scrollTop=this.node.scrollHeight}},{key:"getSnapshotBeforeUpdate",value:function(){return this.node.scrollTop+this.node.offsetHeight===this.node.scrollHeight}},{key:"componentDidUpdate",value:function(e,a,t){t&&(this.node.scrollTop=this.node.scrollHeight)}},{key:"render",value:function(){var e=this,a=this.props,t=a.files,n=a.me,r=a.peers,o=a.intl,l=a.classes;return c.a.createElement("div",{className:l.root,ref:function(a){e.node=a}},Object.entries(t).map((function(e){var a,t,l=Object(Ke.a)(e,2),i=l[0],s=l[1];return n.id===s.peerId?(a=o.formatMessage({id:"room.me",defaultMessage:"Me"}),t=n.picture):r[s.peerId]?(a=r[s.peerId].displayName,t=r[s.peerId].picture):a=o.formatMessage({id:"label.unknown",defaultMessage:"Unknown"}),c.a.createElement(sa,{key:i,magnetUri:i,displayName:a,picture:t||_e.a})})))}}]),t}(c.a.PureComponent),ua=Object(u.b)((function(e){return{files:e.files,me:e.me,peers:e.peers}}),null,null,{areStatesEqual:function(e,a){return a.files===e.files&&a.me===e.me&&a.peers===e.peers}})(Object(p.a)((function(e){return{root:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",overflowY:"auto",padding:e.spacing(1)}}}))(Object(ra.c)(ca))),da=Object(Me.b)(Object(u.b)((function(){var e=ge(xe);return function(a){return{isFileSharingModerator:e(a),room:a.room}}}),null,null,{areStatesEqual:function(e,a){return a.room===e.room&&a.me===e.me&&a.peers===e.peers}})(Object(p.a)((function(e){return{root:{display:"flex",padding:e.spacing(1),boxShadow:"0 2px 5px 2px rgba(0, 0, 0, 0.2)",backgroundColor:"rgba(255, 255, 255, 1)"},listheader:{padding:e.spacing(1),fontWeight:"bolder"},actionButton:{marginLeft:"auto"}}}))((function(e){var a=Object(be.a)(),t=e.roomClient,n=e.isFileSharingModerator,r=e.room,o=e.classes;return n?c.a.createElement("ul",{className:o.root},c.a.createElement("li",{className:o.listheader},c.a.createElement(C.a,{id:"room.moderatoractions",defaultMessage:"Moderator actions"})),c.a.createElement(Le.a,{"aria-label":a.formatMessage({id:"room.clearFileSharing",defaultMessage:"Clear files"}),className:o.actionButton,variant:"contained",color:"secondary",disabled:r.clearFileSharingInProgress,onClick:function(){return t.clearFileSharing()}},c.a.createElement(C.a,{id:"room.clearFileSharing",defaultMessage:"Clear files"}))):null})))),ma=Object(Me.b)(Object(u.b)((function(){var e=ge(je);return function(a){return{canShareFiles:a.me.canShareFiles,browser:a.me.browser,tabOpen:"files"===a.toolarea.currentToolTab,canShare:e(a)}}}),null,null,{areStatesEqual:function(e,a){return a.room===e.room&&a.me.browser===e.me.browser&&a.me.roles===e.me.roles&&a.me.canShareFiles===e.me.canShareFiles&&a.peers===e.peers&&a.toolarea.currentToolTab===e.toolarea.currentToolTab}})(Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},input:{display:"none"},button:{margin:e.spacing(1)},shareButtonsWrapper:{display:"flex"}}}))((function(e){var a=Object(be.a)(),t=function(){var a=Object(na.a)(ta.a.mark((function a(t){return ta.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t.target.files.length>0)){a.next=3;break}return a.next=3,e.roomClient.shareFiles(t.target.files);case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),n=e.canShareFiles,r=e.browser,o=e.canShare,l=e.classes,i=n?a.formatMessage({id:"label.shareFile",defaultMessage:"Share file"}):a.formatMessage({id:"label.fileSharingUnsupported",defaultMessage:"File sharing not supported"}),s=n?a.formatMessage({id:"label.shareGalleryFile",defaultMessage:"Share image"}):a.formatMessage({id:"label.fileSharingUnsupported",defaultMessage:"File sharing not supported"});return c.a.createElement(we.a,{className:l.root},c.a.createElement(da,null),c.a.createElement("div",{className:l.shareButtonsWrapper},c.a.createElement("input",{className:l.input,type:"file",disabled:!o,onChange:t,onClick:function(e){return e.target.value=null},id:"share-files-button"}),c.a.createElement("input",{className:l.input,type:"file",disabled:!o,onChange:t,accept:"image/*",id:"share-files-gallery-button"}),c.a.createElement("label",{htmlFor:"share-files-button"},c.a.createElement(Le.a,{variant:"contained",component:"span",className:l.button,disabled:!n||!o},i)),"mobile"===r.platform&&n&&o&&c.a.createElement("label",{htmlFor:"share-files-gallery-button"},c.a.createElement(Le.a,{variant:"contained",component:"span",className:l.button,disabled:!n||!o},s))),c.a.createElement(ua,null))})))),pa=t(646),fa=t(1),ga=t(110),ba=t(683),ha=t(397),va=t.n(ha),Ea=t(466),ya=t.n(Ea),wa=t(376),Ma=t.n(wa),ka=t(607),Ca=t.n(ka),Sa=t(399),Oa=t.n(Sa),Na=t(400),Ta=t.n(Na),ja=t(465),xa=t.n(ja),Pa=t(398),La=t.n(Pa),Ia=t(396),Aa=t.n(Ia),Ra=t(375),Ba=t.n(Ra),Va=t(606),Da=t.n(Va),Fa=t(395),za=t.n(Fa),Ha=t(605),Wa=t.n(Ha),qa=Object(Me.b)(Object(u.b)((function(e,a){var t=a.id,n=fe();return function(e){return Object(fa.a)({peer:e.peers[t]},n(e,t))}}),null,null,{areStatesEqual:function(e,a){return a.peers===e.peers&&a.consumers===e.consumers}})(Object(p.a)((function(e){return{root:{width:"100%",overflow:"hidden",cursor:"auto",display:"flex"},avatar:{borderRadius:"50%",height:"2rem",marginTop:e.spacing(.5)},peerInfo:{fontSize:".7rem",display:"flex",paddingLeft:e.spacing(.7),flexGrow:1,alignItems:"center"},indicators:{display:"flex",padding:e.spacing(.7)},buttons:{padding:e.spacing(.7)},green:{color:"rgba(0, 153, 0, 1)",marginLeft:e.spacing(2)}}}))((function(e){var a=Object(be.a)(),t=e.roomClient,n=e.isModerator,r=e.spotlight,o=e.peer,l=e.micConsumer,i=e.webcamConsumer,s=e.screenConsumer,u=e.children,d=e.classes,m=Boolean(i)&&!i.locallyPaused&&!i.remotelyPaused,p=Boolean(l)&&!l.locallyPaused&&!l.remotelyPaused,f=Boolean(s)&&!s.locallyPaused&&!s.remotelyPaused,g=o.picture||_e.a;return c.a.createElement("div",{className:d.root},c.a.createElement("img",{alt:"Peer avatar",className:d.avatar,src:g}),c.a.createElement("div",{className:d.peerInfo},o.displayName),o.raisedHand&&c.a.createElement(Xe.a,{className:d.buttons,style:{color:ga.a[500]},disabled:!n||o.raisedHandInProgress,onClick:function(e){e.stopPropagation(),t.lowerPeerHand(o.id)}},c.a.createElement(za.a,null)),r&&c.a.createElement(Xe.a,{className:d.buttons,style:{color:ga.a[500]},disabled:!0},c.a.createElement(Wa.a,null)),s&&r&&c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.muteScreenSharing",defaultMessage:"Mute participant share"}),placement:"bottom"},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.muteScreenSharing",defaultMessage:"Mute participant share"}),color:f?"primary":"secondary",disabled:o.peerScreenInProgress,className:d.buttons,onClick:function(e){e.stopPropagation(),f?t.modifyPeerConsumer(o.id,"screen",!0):t.modifyPeerConsumer(o.id,"screen",!1)}},f?c.a.createElement(Aa.a,null):c.a.createElement(Ba.a,null))),r&&c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.muteParticipantVideo",defaultMessage:"Mute participant video"}),placement:"bottom"},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.muteParticipantVideo",defaultMessage:"Mute participant video"}),color:m?"primary":"secondary",disabled:o.peerVideoInProgress,className:d.buttons,onClick:function(e){e.stopPropagation(),m?t.modifyPeerConsumer(o.id,"webcam",!0):t.modifyPeerConsumer(o.id,"webcam",!1)}},m?c.a.createElement(va.a,null):c.a.createElement(Ma.a,null))),c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.muteParticipant",defaultMessage:"Mute participant"}),placement:"bottom"},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.muteParticipant",defaultMessage:"Mute participant"}),color:p?"primary":"secondary",disabled:o.peerAudioInProgress,className:d.buttons,onClick:function(e){e.stopPropagation(),p?t.modifyPeerConsumer(o.id,"mic",!0):t.modifyPeerConsumer(o.id,"mic",!1)}},p?c.a.createElement(xa.a,null):c.a.createElement(La.a,null))),n&&c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.kickParticipant",defaultMessage:"Kick out participant"}),placement:"bottom"},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.kickParticipant",defaultMessage:"Kick out participant"}),disabled:o.peerKickInProgress,className:d.buttons,color:"secondary",onClick:function(e){e.stopPropagation(),t.kickPeer(o.id)}},c.a.createElement(Da.a,null))),n&&l&&c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.muteParticipantAudioModerator",defaultMessage:"Mute participant audio globally"}),placement:"bottom"},c.a.createElement(Xe.a,{className:d.buttons,style:{color:ga.a[500]},disabled:!n||o.stopPeerAudioInProgress,onClick:function(e){e.stopPropagation(),t.mutePeer(o.id)}},l.remotelyPaused?c.a.createElement(Ta.a,null):c.a.createElement(Oa.a,null))),n&&i&&c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.muteParticipantVideoModerator",defaultMessage:"Mute participant video globally"}),placement:"bottom"},c.a.createElement(Xe.a,{className:d.buttons,style:{color:ga.a[500]},disabled:!n||o.stopPeerVideoInProgress,onClick:function(e){e.stopPropagation(),t.stopPeerVideo(o.id)}},i.remotelyPaused?c.a.createElement(Ma.a,null):c.a.createElement(va.a,null))),n&&i&&c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.muteParticipantVideoModerator",defaultMessage:"Fixed Spotlight"}),placement:"bottom"},c.a.createElement(Xe.a,{className:d.buttons,style:{color:ga.a[500]},disabled:!n||o.stopPeerVideoInProgress,onClick:function(e){e.stopPropagation(),t.setFixedPeer(o.id)}},(i.remotelyPaused,c.a.createElement(ya.a,null)))),n&&c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.makeModerator",defaultMessage:"Make Moderator"}),placement:"bottom"},c.a.createElement(Xe.a,{className:d.buttons,style:{color:ga.a[500]},disabled:!n||o.stopPeerVideoInProgress,onClick:function(e){e.stopPropagation(),t.makeModerator(o.id)}},c.a.createElement(Ca.a,null))),n&&s&&c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.muteScreenSharingModerator",defaultMessage:"Mute participant screen share globally"}),placement:"bottom"},c.a.createElement(Xe.a,{className:d.buttons,style:{color:ga.a[500]},disabled:!n||o.stopPeerScreenSharingInProgress,onClick:function(e){e.stopPropagation(),t.stopPeerScreenSharing(o.id)}},s.remotelyPaused?c.a.createElement(Ba.a,null):c.a.createElement(Aa.a,null))),u)})))),Ua=Object(Me.b)(Object(u.b)((function(e){return{me:e.me,myId:e.me.id,roles:e.me.roles,settings:e.settings}}),null,null,{areStatesEqual:function(e,a){return a.me===e.me&&a.settings===e.settings}})(Object(p.a)((function(e){return{root:{width:"100%",overflow:"hidden",cursor:"auto",display:"flex"},avatar:{borderRadius:"50%",height:"2rem",marginTop:e.spacing(.5)},peerInfo:{fontSize:".7rem",display:"flex",paddingLeft:e.spacing(.7),flexGrow:1,alignItems:"center"},buttons:{padding:e.spacing(.7)},green:{color:"rgba(0, 153, 0, 1)"}}}))((function(e){var a=Object(be.a)(),t=e.roomClient,n=e.roles,r=e.me,o=e.myId,l=e.settings,i=e.classes,s=r.picture||_e.a;return console.log("roles: "+n),c.a.createElement("div",{className:i.root},c.a.createElement("img",{alt:"My avatar",className:i.avatar,src:s}),c.a.createElement("div",{className:i.peerInfo},l.displayName),n.indexOf("moderator")>-1&&c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.muteParticipantVideoModerator",defaultMessage:"Fixed Spotlight"}),placement:"bottom"},c.a.createElement(Xe.a,{className:i.buttons,style:{color:ga.a[500]},onClick:function(e){e.stopPropagation(),t.setFixedPeer(o)}},c.a.createElement(ya.a,null))),c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.raisedHand",defaultMessage:"Raise hand"}),placement:"bottom"},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.raisedHand",defaultMessage:"Raise hand"}),className:Be()(r.raisedHand?i.green:null,i.buttons),disabled:r.raisedHandInProgress,color:"primary",onClick:function(e){e.stopPropagation(),t.setRaisedHand(!r.raisedHand)}},c.a.createElement(za.a,null))))})))),_a=t(608),Ga=t.n(_a),Ya=t(609),Ka=t.n(Ya),Qa=t(467),Xa=t.n(Qa),Ja=t(468),$a=t.n(Ja),Za=Object(Me.b)(Object(u.b)((function(e){return{room:e.room,me:e.me}}),null,null,{areStatesEqual:function(e,a){return a.room===e.room}})(Object(p.a)((function(e){return{root:{padding:e.spacing(.5),display:"flex"},divider:{marginLeft:e.spacing(1)}}}))((function(e){var a=Object(be.a)(),t=e.roomClient,n=e.room,r=(e.me,e.peer,e.classes),o=n.silenced?a.formatMessage({id:"tooltip.lockRoom",defaultMessage:"Remove silence lock"}):a.formatMessage({id:"tooltip.unLockRoom",defaultMessage:"Silence lock room"});return c.a.createElement("div",{className:r.root},c.a.createElement(ba.a,{title:a.formatMessage({id:"room.muteAll",defaultMessage:"Mute All"})},c.a.createElement(Le.a,{"aria-label":a.formatMessage({id:"room.muteAll",defaultMessage:"Mute all"}),variant:"contained",color:"default",size:"small",disabled:n.muteAllInProgress,onClick:function(){return t.muteAllPeers()}},c.a.createElement(La.a,{fontSize:"small"}),c.a.createElement("div",{className:r.divider}),c.a.createElement(ba.a,{title:o},c.a.createElement("span",{className:r.disabledButton},c.a.createElement(Xe.a,{"aria-label":o,className:r.actionButton,color:"inherit",size:"small",onClick:function(e){e.stopPropagation(),n.silenced?t.unsilenceRoom():t.silenceRoom()}},n.silenced?c.a.createElement(Xa.a,{fontSize:"small"}):c.a.createElement($a.a,null)))))),c.a.createElement("div",{className:r.divider}),c.a.createElement(ba.a,{title:a.formatMessage({id:"room.stopAllVideo",defaultMessage:"Stop all video"})},c.a.createElement(Le.a,{"aria-label":a.formatMessage({id:"room.stopAllVideo",defaultMessage:"Stop all video"}),variant:"contained",color:"default",size:"small",disabled:n.stopAllVideoInProgress,onClick:function(){return t.stopAllPeerVideo()}},c.a.createElement(Ma.a,{fontSize:"small"}))),c.a.createElement("div",{className:r.divider}),c.a.createElement(ba.a,{title:a.formatMessage({id:"room.removeSpotLight",defaultMessage:"Remove Spotlight"})},c.a.createElement(Le.a,{"aria-label":a.formatMessage({id:"room.removeSpotLight",defaultMessage:"Remove Spotlight"}),variant:"contained",color:"default",size:"small",disabled:n.stopAllVideoInProgress,onClick:function(){return t.setFixedPeer("none")}},c.a.createElement(Ga.a,{fontSize:"small"}))),c.a.createElement("div",{className:r.divider}),c.a.createElement(ba.a,{title:a.formatMessage({id:"room.stopAllScreenSharing",defaultMessage:"Stop all screen sharing"})},c.a.createElement(Le.a,{"aria-label":a.formatMessage({id:"room.stopAllScreenSharing",defaultMessage:"Stop all screen sharing"}),variant:"contained",color:"default",size:"small",disabled:n.stopAllScreenSharingInProgress,onClick:function(){return t.stopAllPeerScreenSharing()}},c.a.createElement(Ba.a,{fontSize:"small"}))),c.a.createElement("div",{className:r.divider}),c.a.createElement(ba.a,{title:a.formatMessage({id:"room.closeMeeting",defaultMessage:"Close meeting"})},c.a.createElement(Le.a,{"aria-label":a.formatMessage({id:"room.closeMeeting",defaultMessage:"Close meeting"}),variant:"contained",color:"default",size:"small",disabled:n.closeMeetingInProgress,onClick:function(){return t.closeMeeting()}},c.a.createElement(Ka.a,{fontSize:"small"}))))})))),et=Object(u.b)((function(e,a){return function(e){return e.peerVolumes[a.id]>e.settings.noiseThreshold?{volume:Math.round((e.peerVolumes[a.id]+100)/10)}:{volume:0}}}))(Object(p.a)((function(){return{volumeLarge:{position:"absolute",top:0,bottom:0,right:2,width:10,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},largeBar:{width:6,borderRadius:6,background:"rgba(yellow, 0.65)",transitionProperty:"height background-color",transitionDuration:"0.25s","&.level0":{height:0,backgroundColor:"rgba(255, 255, 0, 0.65)"},"&.level1":{height:"10%",backgroundColor:"rgba(255, 255, 0, 0.65)"},"&.level2":{height:"20%",backgroundColor:"rgba(255, 255, 0, 0.65)"},"&.level3":{height:"30%",backgroundColor:"rgba(255, 255, 0, 0.65)"},"&.level4":{height:"40%",backgroundColor:"rgba(255, 165, 0, 0.65)"},"&.level5":{height:"50%",backgroundColor:"rgba(255, 165, 0, 0.65)"},"&.level6":{height:"60%",backgroundColor:"rgba(255, 165, 0, 0.65)"},"&.level7":{height:"70%",backgroundColor:"rgba(255, 100, 0, 0.65)"},"&.level8":{height:"80%",backgroundColor:"rgba(255, 60, 0, 0.65)"},"&.level9":{height:"90%",backgroundColor:"rgba(255, 30, 0, 0.65)"},"&.level10":{height:"100%",backgroundColor:"rgba(255, 0, 0, 0.65)"}},volumeSmall:{float:"right",display:"flex",flexDirection:"row",justifyContent:"flex-start",width:"1vmin",position:"relative",backgroundSize:"75%"},smallBar:{flex:"0 0 auto",backgroundSize:"75%",backgroundRepeat:"no-repeat",backgroundColor:"rgba(0, 0, 0, 1)",cursor:"pointer",transitionProperty:"opacity, background-color",width:3,borderRadius:2,transitionDuration:"0.25s",position:"absolute",top:"50%",transform:"translateY(-50%)","&.level0":{height:0},"&.level1":{height:"0.2vh"},"&.level2":{height:"0.4vh"},"&.level3":{height:"0.6vh"},"&.level4":{height:"0.8vh"},"&.level5":{height:"1.0vh"},"&.level6":{height:"1.2vh"},"&.level7":{height:"1.4vh"},"&.level8":{height:"1.6vh"},"&.level9":{height:"1.8vh"},"&.level10":{height:"2.0vh"}}}}))((function(e){var a=e.small,t=e.volume,n=e.classes;return c.a.createElement("div",{className:a?n.volumeSmall:n.volumeLarge},c.a.createElement("div",{className:Be()(a?n.smallBar:n.largeBar,"level".concat(t))}))}))),at=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.node.scrollTop=this.node.scrollHeight}},{key:"getSnapshotBeforeUpdate",value:function(){return this.node.scrollTop+this.node.offsetHeight===this.node.scrollHeight}},{key:"componentDidUpdate",value:function(e,a,t){t&&(this.node.scrollTop=this.node.scrollHeight)}},{key:"render",value:function(){var e=this,a=this.props,t=a.roomClient,n=a.advancedMode,r=a.isModerator,o=a.participants,l=a.spotlights,i=a.selectedPeerId,s=a.classes;return c.a.createElement("div",{className:s.root,ref:function(a){e.node=a}},r&&c.a.createElement("ul",{className:s.list},c.a.createElement("li",{className:s.listheader},c.a.createElement(C.a,{id:"room.moderatoractions",defaultMessage:"Moderator actions"})),c.a.createElement(Za,null)),c.a.createElement("ul",{className:s.list},c.a.createElement("li",{className:s.listheader},c.a.createElement(C.a,{id:"room.me",defaultMessage:"Me"})),c.a.createElement(Ua,null)),c.a.createElement("ul",{className:s.list},c.a.createElement("li",{className:s.listheader},c.a.createElement(C.a,{id:"label.participants",defaultMessage:"Participants"})),c.a.createElement(pa.b,{flipKey:o},o.map((function(e){return c.a.createElement(pa.a,{key:e.id,flipId:e.id},c.a.createElement("li",{key:e.id,className:Be()(s.listItem,{selected:e.id===i}),onClick:function(){return t.setSelectedPeer(e.id)}},l.includes(e.id)?c.a.createElement(qa,{id:e.id,advancedMode:n,isModerator:r,spotlight:!0},c.a.createElement(et,{small:!0,id:e.id})):c.a.createElement(qa,{id:e.id,advancedMode:n,isModerator:r})))})))))}}]),t}(c.a.PureComponent),tt=Object(Me.b)(Object(u.b)((function(){var e=ge(Pe);return function(a){return{isModerator:e(a),participants:ce(a),spotlights:a.room.spotlights,selectedPeerId:a.room.selectedPeerId}}}),null,null,{areStatesEqual:function(e,a){return a.room===e.room&&a.me.roles===e.me.roles&&a.peers===e.peers}})(Object(p.a)((function(e){return{root:{width:"100%",overflowY:"auto",padding:e.spacing(1)},list:{listStyleType:"none",padding:e.spacing(1),boxShadow:"0 2px 5px 2px rgba(0, 0, 0, 0.2)",backgroundColor:"rgba(255, 255, 255, 1)"},listheader:{fontWeight:"bolder"},listItem:{width:"100%",overflow:"hidden",cursor:"pointer","&.selected":{backgroundColor:"rgba(55, 126, 255, 1)"},"&:not(:last-child)":{borderBottom:"1px solid #CBCBCB"}}}}))(at))),nt=t(610),rt=t.n(nt),ot=t(611),lt=t.n(ot),it=["chat","files","users"],st={setToolTab:h},ct=Object(u.b)((function(e){return{currentToolTab:e.toolarea.currentToolTab,unreadMessages:e.toolarea.unreadMessages,unreadFiles:e.toolarea.unreadFiles,raisedHands:de(e)}}),st,null,{areStatesEqual:function(e,a){return a.toolarea.currentToolTab===e.toolarea.currentToolTab&&a.toolarea.unreadMessages===e.toolarea.unreadMessages&&a.toolarea.unreadFiles===e.toolarea.unreadFiles&&a.peers===e.peers}})(Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column",width:"100%",height:"100%",backgroundColor:"#ffffff96"},appBar:{display:"flex",flexDirection:"row"},tabsHeader:{width:"100%"},smallerFont:{fontSize:".7rem",width:"25px",maxWidth:"100px",minWidth:"85px"},smallerBadge:{fontSize:".7rem",maxWidth:"75px",minWidth:"55px"}}}),{withTheme:!0})((function(e){var a=Object(be.a)(),t=e.currentToolTab,n=e.unreadMessages,r=e.unreadFiles,o=e.raisedHands,l=e.closeDrawer,i=e.setToolTab,s=e.classes,u=e.theme;return c.a.createElement("div",{className:s.root},c.a.createElement(he.a,{position:"static",color:"default",className:s.appBar},c.a.createElement(ve.a,{className:s.tabsHeader,value:it.indexOf(t),onChange:function(e,a){return i(it[a])},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},c.a.createElement(Ee.a,{className:s.smallerFont,label:c.a.createElement(ye.a,{className:s.smallerBadge,color:"secondary",badgeContent:n},a.formatMessage({id:"label.chat",defaultMessage:"Chat"}))}),c.a.createElement(Ee.a,{className:s.smallerFont,label:c.a.createElement(ye.a,{className:s.smallerBadge,color:"secondary",badgeContent:r},a.formatMessage({id:"label.filesharing",defaultMessage:"File sharing"}))}),c.a.createElement(Ee.a,{className:s.smallerFont,label:c.a.createElement(ye.a,{className:s.smallerBadge,color:"secondary",badgeContent:o},a.formatMessage({id:"label.participants",defaultMessage:"Participants"}))})),c.a.createElement(Xe.a,{onClick:l},"ltr"===u.direction?c.a.createElement(rt.a,null):c.a.createElement(lt.a,null))),"chat"===t&&c.a.createElement(ea,null),"files"===t&&c.a.createElement(ma,null),"users"===t&&c.a.createElement(tt,null))}))),ut=t(332),dt=t(612),mt=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(){return Object(n.a)(this,t),a.apply(this,arguments)}return Object(r.a)(t,[{key:"render",value:function(){var e=this.props,a=e.value,t=e.propName,n=e.className,r=e.classLoading,o=e.classInvalid,l=e.editProps,i=e.onChange;return c.a.createElement(dt.RIEInput,{value:a,propName:t,className:n,classLoading:r,classInvalid:o,shouldBlockWhileLoading:!0,editProps:l,change:function(e){return i(e)}})}},{key:"shouldComponentUpdate",value:function(e){return e.value!==this.props.value}}]),t}(c.a.Component),pt=t(96),ft=t(108),gt=t(109),bt=t(671),ht=t(620),vt=t.n(ht),Et=t(621),yt=t.n(Et),wt=t(622),Mt=t.n(wt),kt=t(623),Ct=t.n(kt),St=t(624),Ot=t.n(St),Nt=new pt.a("VideoView"),Tt=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={videoWidth:null,videoHeight:null},r._audioTrack=null,r._videoTrack=null,r._videoResolutionTimer=null,r}return Object(r.a)(t,[{key:"render",value:function(){var e=this.props,a=e.isMe,t=e.isScreen,n=e.isExtraVideo,r=e.showQuality,o=e.displayName,l=e.showPeerInfo,i=e.videoContain,s=e.advancedMode,u=e.videoVisible,d=e.videoMultiLayer,m=e.audioScore,p=e.videoScore,f=e.consumerCurrentSpatialLayer,g=e.consumerCurrentTemporalLayer,b=e.consumerPreferredSpatialLayer,h=e.consumerPreferredTemporalLayer,v=e.audioCodec,E=e.videoCodec,y=e.onChangeDisplayName,w=e.children,M=e.classes,k=e.netInfo,C=this.state,S=C.videoWidth,O=C.videoHeight,N=null;if(r&&(N=c.a.createElement(vt.a,{style:{color:ft.a[500]}}),p||m)){var T=p||m;switch(a?T.score:T.producerScore){case 0:case 1:N=c.a.createElement(yt.a,{style:{color:ft.a[500]}});break;case 2:case 3:N=c.a.createElement(Mt.a,{style:{color:ft.a[500]}});break;case 4:case 5:case 6:N=c.a.createElement(Ct.a,{style:{color:gt.a[500]}});break;case 7:case 8:case 9:N=c.a.createElement(Ot.a,{style:{color:bt.a[500]}});break;case 10:N=null}}return c.a.createElement("div",{className:M.root},c.a.createElement("div",{className:M.info},c.a.createElement("div",{className:M.media},c.a.createElement("div",{className:Be()(M.box,"left",{hidden:!s})},v&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"AcodL"},"Acod: "),c.a.createElement("span",{className:"Acod"},v)),E&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"VcodL"},"Vcod: "),c.a.createElement("span",{className:"Vcod"},E)),u&&null!==S&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"ResL"},"Res: "),c.a.createElement("span",{className:"Res"},S,"x",O)),a&&!t&&!n&&k.recv&&k.send&&k.send.iceSelectedTuple&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"RecvL"},"Recv: "),c.a.createElement("span",{className:"RecvBps"},(k.recv.sendBitrate/1024/1024).toFixed(2),"Mb/s"),c.a.createElement("span",{className:"RecvSum"},(k.recv.bytesSent/1024/1024).toFixed(2),"MB"),c.a.createElement("span",{className:"SendL"},"Send: "),c.a.createElement("span",{className:"SendBps"},(k.send.recvBitrate/1024/1024).toFixed(2),"Mb/s"),c.a.createElement("span",{className:"SendSum"},(k.send.bytesReceived/1024/1024).toFixed(2),"MB"),c.a.createElement("span",{className:"IPlocL"},"IPloc: "),c.a.createElement("span",{className:"IPloc"},k.send.iceSelectedTuple.remoteIp),c.a.createElement("span",{className:"IPsrvL"},"IPsrv: "),c.a.createElement("span",{className:"IPsrv"},k.send.iceSelectedTuple.localIp)),d&&c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"STLcurrL"},"STLcurr: "),c.a.createElement("span",{className:"STLcurr"},f," ",g),c.a.createElement("span",{className:"STLprefL"},"STLpref: "),c.a.createElement("span",{className:"STLpref"},b," ",h))),r&&c.a.createElement("div",{className:Be()(M.box,"right")},N)),l&&c.a.createElement("div",{className:M.peer},c.a.createElement("div",{className:M.box},a?c.a.createElement(c.a.Fragment,null,c.a.createElement(mt,{value:o,propName:"newDisplayName",className:M.displayNameEdit,classLoading:"loading",classInvalid:"invalid",shouldBlockWhileLoading:!0,editProps:{maxLength:30,autoCorrect:"off",spellCheck:!1},onChange:function(e){var a=e.newDisplayName;return y(a)}})):c.a.createElement("span",{className:M.displayNameStatic},o)))),c.a.createElement("video",{ref:"videoElement",className:Be()(M.video,{hidden:!u,isMe:a&&!t,contain:i}),autoPlay:!0,playsInline:!0,muted:!0,controls:!1}),c.a.createElement("audio",{ref:"audioElement",autoPlay:!0,playsInline:!0,muted:a,controls:!1}),w)}},{key:"componentDidMount",value:function(){var e=this.props,a=e.videoTrack,t=e.audioTrack;this._setTracks(a,t)}},{key:"componentWillUnmount",value:function(){clearInterval(this._videoResolutionTimer);var e=this.refs.videoElement;e&&(e.oncanplay=null,e.onplay=null,e.onpause=null)}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var a=this.props,t=a.videoTrack,n=a.audioTrack;this._setTracks(t,n)}}},{key:"_setTracks",value:function(e,a){var t=this;if(this._videoTrack!==e||this._audioTrack!==a){this._videoTrack=e,this._audioTrack=a,clearInterval(this._videoResolutionTimer),this._hideVideoResolution();var n=this.refs,r=n.videoElement,o=n.audioElement;if(e){var l=new MediaStream;l.addTrack(e),r.srcObject=l,r.oncanplay=function(){return t.setState({videoCanPlay:!0})},r.onplay=function(){o.play().catch((function(e){return Nt.warn('audioElement.play() [error:"%o]',e)}))},r.play().catch((function(e){return Nt.warn('videoElement.play() [error:"%o]',e)})),this._showVideoResolution()}else r.srcObject=null;if(a){var i=new MediaStream;i.addTrack(a),o.srcObject=i,o.play().catch((function(e){return Nt.warn('audioElement.play() [error:"%o]',e)}))}else o.srcObject=null}}},{key:"_showVideoResolution",value:function(){var e=this;this._videoResolutionTimer=setInterval((function(){var a=e.state,t=a.videoWidth,n=a.videoHeight,r=e.refs.videoElement;r.videoWidth===t&&r.videoHeight===n||e.setState({videoWidth:r.videoWidth,videoHeight:r.videoHeight})}),1e3)}},{key:"_hideVideoResolution",value:function(){this.setState({videoWidth:null,videoHeight:null})}}]),t}(c.a.PureComponent),jt=Object(p.a)((function(e){return{root:{position:"relative",flex:"100 100 auto",height:"100%",width:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},video:{flex:"100 100 auto",height:"100%",width:"100%",objectFit:"cover",userSelect:"none",transitionProperty:"opacity",transitionDuration:".15s",backgroundColor:"var(--peer-video-bg-color)","&.isMe":{transform:"scaleX(-1)"},"&.hidden":{opacity:0,transitionDuration:"0s"},"&.loading":{filter:"blur(5px)"},"&.contain":{objectFit:"contain",backgroundColor:"rgba(0, 0, 0, 1)"}},info:{width:"100%",height:"100%",padding:e.spacing(1),position:"absolute",zIndex:10,display:"flex",flexDirection:"column",justifyContent:"space-between"},media:{display:"flex",transitionProperty:"opacity",transitionDuration:".15s"},box:{padding:e.spacing(.5),borderRadius:2,userSelect:"none",margin:0,color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8em","&.left":{backgroundColor:"rgba(0, 0, 0, 0.25)",display:"grid",gap:"1px 5px",gridTemplateAreas:'\t\t\t\t"AcodL\t\tAcod\tAcod\tAcod\tAcod" \t\t\t\t\t"VcodL\t\tVcod\tVcod\tVcod\tVcod" \t\t\t\t\t"ResL\t\tRes\t\tRes\t\tRes\t\tRes" \t\t\t\t\t"RecvL\t\tRecvBps RecvBps RecvSum RecvSum" \t\t\t\t\t"SendL\t\tSendBps SendBps SendSum SendSum" \t\t\t\t\t"IPlocL\t\tIPloc\tIPloc\tIPloc\tIPloc" \t\t\t\t\t"IPsrvL\t\tIPsrv\tIPsrv\tIPsrv\tIPsrv" \t\t\t\t\t"STLcurrL\tSTLcurr\tSTLcurr STLcurr STLcurr" \t\t\t\t\t"STLprefL\tSTLpref STLpref STLpref STLpref"',"& .AcodL":{gridArea:"AcodL"},"& .Acod":{gridArea:"Acod"},"& .VcodL":{gridArea:"VcodL"},"& .Vcod":{gridArea:"Vcod"},"& .ResL":{gridArea:"ResL"},"& .Res":{gridArea:"Res"},"& .RecvL":{gridArea:"RecvL"},"& .RecvBps":{gridArea:"RecvBps",justifySelf:"flex-end"},"& .RecvSum":{gridArea:"RecvSum",justifySelf:"flex-end"},"& .SendL":{gridArea:"SendL"},"& .SendBps":{gridArea:"SendBps",justifySelf:"flex-end"},"& .SendSum":{gridArea:"SendSum",justifySelf:"flex-end"},"& .IPlocL":{gridArea:"IPlocL"},"& .IPloc":{gridArea:"IPloc"},"& .IPsrvL":{gridArea:"IPsrvL"},"& .IPsrv":{gridArea:"IPsrv"},"& .STLcurrL":{gridArea:"STLcurrL"},"& .STLcurr":{gridArea:"STLcurr"},"& .STLprefL":{gridArea:"STLprefL"},"& .STLpref":{gridArea:"STLpref"}},"&.right":{marginLeft:"auto",width:30},"&.hidden":{opacity:0,transitionDuration:"0s"}},peer:{display:"flex"},displayNameEdit:{fontSize:14,fontWeight:400,color:"rgba(255, 255, 255, 0.85)",border:"none",borderBottom:"1px solid #aeff00",backgroundColor:"transparent"},displayNameStatic:{userSelect:"none",cursor:"text",fontSize:14,fontWeight:400,color:"rgba(255, 255, 255, 0.85)","&:hover":{backgroundColor:"rgb(174, 255, 0, 0.25)"}}}}))(Tt),xt=t(672),Pt=t(625),Lt=t.n(Pt),It=t(402),At=t.n(It),Rt=Object(Me.b)(Object(u.b)((function(e,a){var t=a.id,n=fe();return function(e){return Object(fa.a)(Object(fa.a)({peer:e.peers[t]},n(e,t)),{},{windowConsumer:e.room.windowConsumer,activeSpeaker:t===e.room.activeSpeakerId,browser:e.me.browser})}}),(function(e){return{toggleConsumerFullscreen:function(a){a&&e(b.H(a.id))},toggleConsumerWindow:function(a){a&&e(b.I(a.id))}}}),null,{areStatesEqual:function(e,a){return a.peers===e.peers&&a.consumers===e.consumers&&a.room.activeSpeakerId===e.room.activeSpeakerId&&a.room.windowConsumer===e.room.windowConsumer&&a.me.browser===e.me.browser}})(Object(p.a)((function(e){return{root:{flex:"0 0 auto",boxShadow:"var(--peer-shadow)",border:"var(--peer-border)",touchAction:"none",backgroundColor:"var(--peer-bg-color)",backgroundImage:"var(--peer-empty-avatar)",backgroundPosition:"bottom",backgroundSize:"auto 85%",backgroundRepeat:"no-repeat","&.hover":{boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.05) inset, 0px 0px 8px rgba(82, 168, 236, 0.9)"},"&.active-speaker":{borderColor:"var(--active-speaker-border-color)"},"&:not(.active-speaker):not(.screen)":{},"&.webcam":{order:4},"&.screen":{order:3}},fab:{margin:e.spacing(1)},smallContainer:{backgroundColor:"rgba(255, 255, 255, 0.9)",margin:"0.5vmin",padding:"0.5vmin",boxShadow:"0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)",pointerEvents:"auto",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","&:hover":{backgroundColor:"rgba(213, 213, 213, 1)"}},viewContainer:{position:"relative",width:"100%",height:"100%"},controls:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",padding:e.spacing(1),zIndex:21,opacity:0,transition:"opacity 0.3s",touchAction:"none","&.hover":{opacity:1}},videoInfo:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",display:"flex",justifyContent:"center",alignItems:"center",padding:e.spacing(1),zIndex:20,"& p":{padding:"6px 12px",borderRadius:6,userSelect:"none",pointerEvents:"none",fontSize:20,color:"rgba(255, 255, 255, 0.55)"}}}}),{withTheme:!0})((function(e){var a=Object(s.useState)(!1),t=Object(Ke.a)(a,2),n=t[0],r=t[1],o=Object(be.a)(),l=null,i=e.roomClient,u=e.advancedMode,d=e.peer,m=e.activeSpeaker,p=e.browser,f=e.micConsumer,g=e.webcamConsumer,b=e.screenConsumer,h=e.extraVideoConsumers,v=e.toggleConsumerFullscreen,E=e.toggleConsumerWindow,y=e.spacing,w=e.style,M=e.smallContainer,k=e.windowConsumer,S=e.classes,O=e.theme,N=Boolean(f)&&!f.locallyPaused&&!f.remotelyPaused&&!f.remotelyLocked,T=Boolean(g)&&!g.locallyPaused&&!g.remotelyPaused,j=Boolean(b)&&!b.locallyPaused&&!b.remotelyPaused,x=Object(ut.a)(O.breakpoints.down("sm")),P=Object(fa.a)({margin:y},w);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Be()(S.root,"webcam",n?"hover":null,m?"active-speaker":null),onMouseOver:function(){return r(!0)},onMouseOut:function(){return r(!1)},onTouchStart:function(){l&&clearTimeout(l),r(!0)},onTouchEnd:function(){l&&clearTimeout(l),l=setTimeout((function(){r(!1)}),2e3)},style:P},c.a.createElement("div",{className:Be()(S.viewContainer)},!T&&c.a.createElement("div",{className:S.videoInfo},c.a.createElement("p",null,c.a.createElement(C.a,{id:"room.videoPaused",defaultMessage:"This video is paused"}))),c.a.createElement("div",{className:Be()(S.controls,n?"hover":null),onMouseOver:function(){return r(!0)},onMouseOut:function(){return r(!1)},onTouchStart:function(){l&&clearTimeout(l),r(!0)},onTouchEnd:function(){l&&clearTimeout(l),l=setTimeout((function(){r(!1)}),2e3)}},c.a.createElement(ba.a,{title:o.formatMessage({id:"device.muteAudio",defaultMessage:"Mute audio"}),placement:x?"top":"left"},M?c.a.createElement(Xe.a,{"aria-label":o.formatMessage({id:"device.muteAudio",defaultMessage:"Mute audio"}),className:S.smallContainer,disabled:!f,color:"primary",size:"small",onClick:function(){N?i.modifyPeerConsumer(d.id,"mic",!0):i.modifyPeerConsumer(d.id,"mic",!1)}},N?c.a.createElement(xa.a,null):c.a.createElement(La.a,null)):c.a.createElement(xt.a,{"aria-label":o.formatMessage({id:"device.muteAudio",defaultMessage:"Mute audio"}),className:S.fab,disabled:!f,color:N?"default":"secondary",size:"large",onClick:function(){N?i.modifyPeerConsumer(d.id,"mic",!0):i.modifyPeerConsumer(d.id,"mic",!1)}},N?c.a.createElement(xa.a,null):c.a.createElement(La.a,null))),"mobile"!==p.platform&&c.a.createElement(ba.a,{title:o.formatMessage({id:"label.newWindow",defaultMessage:"New window"}),placement:x?"top":"left"},M?c.a.createElement(Xe.a,{"aria-label":o.formatMessage({id:"label.newWindow",defaultMessage:"New window"}),className:S.smallContainer,disabled:!T||k===g.id,size:"small",color:"primary",onClick:function(){E(g)}},c.a.createElement(Lt.a,null)):c.a.createElement(xt.a,{"aria-label":o.formatMessage({id:"label.newWindow",defaultMessage:"New window"}),className:S.fab,disabled:!T||k===g.id,size:"large",onClick:function(){E(g)}},c.a.createElement(Lt.a,null))),c.a.createElement(ba.a,{title:o.formatMessage({id:"label.fullscreen",defaultMessage:"Fullscreen"}),placement:x?"top":"left"},M?c.a.createElement(Xe.a,{"aria-label":o.formatMessage({id:"label.fullscreen",defaultMessage:"Fullscreen"}),className:S.smallContainer,disabled:!T,size:"small",color:"primary",onClick:function(){v(g)}},c.a.createElement(At.a,null)):c.a.createElement(xt.a,{"aria-label":o.formatMessage({id:"label.fullscreen",defaultMessage:"Fullscreen"}),className:S.fab,disabled:!T,size:"large",onClick:function(){v(g)}},c.a.createElement(At.a,null)))),c.a.createElement(jt,{showQuality:!0,advancedMode:u,peer:d,displayName:d.displayName,showPeerInfo:!0,consumerSpatialLayers:g?g.spatialLayers:null,consumerTemporalLayers:g?g.temporalLayers:null,consumerCurrentSpatialLayer:g?g.currentSpatialLayer:null,consumerCurrentTemporalLayer:g?g.currentTemporalLayer:null,consumerPreferredSpatialLayer:g?g.preferredSpatialLayer:null,consumerPreferredTemporalLayer:g?g.preferredTemporalLayer:null,videoMultiLayer:g&&"simple"!==g.type,videoTrack:g&&g.track,videoVisible:T,audioTrack:f&&f.track,audioCodec:f&&f.codec,videoCodec:g&&g.codec,audioScore:f?f.score:null,videoScore:g?g.score:null},c.a.createElement(et,{id:d.id})))),h.map((function(e){return c.a.createElement("div",{key:e.id,className:Be()(S.root,"webcam",n?"hover":null,m?"active-speaker":null),onMouseOver:function(){return r(!0)},onMouseOut:function(){return r(!1)},onTouchStart:function(){l&&clearTimeout(l),r(!0)},onTouchEnd:function(){l&&clearTimeout(l),l=setTimeout((function(){r(!1)}),2e3)},style:P},c.a.createElement("div",{className:Be()(S.viewContainer)},!T&&c.a.createElement("div",{className:S.videoInfo},c.a.createElement("p",null,c.a.createElement(C.a,{id:"room.videoPaused",defaultMessage:"This video is paused"}))),c.a.createElement("div",{className:Be()(S.controls,n?"hover":null),onMouseOver:function(){return r(!0)},onMouseOut:function(){return r(!1)},onTouchStart:function(){l&&clearTimeout(l),r(!0)},onTouchEnd:function(){l&&clearTimeout(l),l=setTimeout((function(){r(!1)}),2e3)}},"mobile"!==p.platform&&c.a.createElement(ba.a,{title:o.formatMessage({id:"label.newWindow",defaultMessage:"New window"}),placement:x?"top":"left"},M?c.a.createElement(Xe.a,{"aria-label":o.formatMessage({id:"label.newWindow",defaultMessage:"New window"}),className:S.smallContainer,disabled:!T||k===e.id,size:"small",color:"primary",onClick:function(){E(e)}},c.a.createElement(Lt.a,null)):c.a.createElement(xt.a,{"aria-label":o.formatMessage({id:"label.newWindow",defaultMessage:"New window"}),className:S.fab,disabled:!T||k===e.id,size:"large",onClick:function(){E(e)}},c.a.createElement(Lt.a,null))),c.a.createElement(ba.a,{title:o.formatMessage({id:"label.fullscreen",defaultMessage:"Fullscreen"}),placement:x?"top":"left"},M?c.a.createElement(Xe.a,{"aria-label":o.formatMessage({id:"label.fullscreen",defaultMessage:"Fullscreen"}),className:S.smallContainer,disabled:!T,size:"small",color:"primary",onClick:function(){v(e)}},c.a.createElement(At.a,null)):c.a.createElement(xt.a,{"aria-label":o.formatMessage({id:"label.fullscreen",defaultMessage:"Fullscreen"}),className:S.fab,disabled:!T,size:"large",onClick:function(){v(e)}},c.a.createElement(At.a,null)))),c.a.createElement(jt,{showQuality:!0,advancedMode:u,peer:d,displayName:d.displayName,showPeerInfo:!0,consumerSpatialLayers:e?e.spatialLayers:null,consumerTemporalLayers:e?e.temporalLayers:null,consumerCurrentSpatialLayer:e?e.currentSpatialLayer:null,consumerCurrentTemporalLayer:e?e.currentTemporalLayer:null,consumerPreferredSpatialLayer:e?e.preferredSpatialLayer:null,consumerPreferredTemporalLayer:e?e.preferredTemporalLayer:null,videoMultiLayer:e&&"simple"!==e.type,videoTrack:e&&e.track,videoVisible:T,videoCodec:e&&e.codec,videoScore:e?e.score:null})))})),b&&c.a.createElement("div",{className:Be()(S.root,"screen",n?"hover":null),onMouseOver:function(){return r(!0)},onMouseOut:function(){return r(!1)},onTouchStart:function(){l&&clearTimeout(l),r(!0)},onTouchEnd:function(){l&&clearTimeout(l),l=setTimeout((function(){r(!1)}),2e3)},style:P},c.a.createElement("div",{className:Be()(S.viewContainer)},!j&&c.a.createElement("div",{className:S.videoInfo},c.a.createElement("p",null,c.a.createElement(C.a,{id:"room.videoPaused",defaultMessage:"This video is paused"}))),c.a.createElement("div",{className:Be()(S.controls,n?"hover":null),onMouseOver:function(){return r(!0)},onMouseOut:function(){return r(!1)},onTouchStart:function(){l&&clearTimeout(l),r(!0)},onTouchEnd:function(){l&&clearTimeout(l),l=setTimeout((function(){r(!1)}),2e3)}},"mobile"!==p.platform&&c.a.createElement(ba.a,{title:o.formatMessage({id:"label.newWindow",defaultMessage:"New window"}),placement:x?"top":"left"},c.a.createElement(xt.a,{"aria-label":o.formatMessage({id:"label.newWindow",defaultMessage:"New window"}),className:S.fab,disabled:!j||k===b.id,size:M?"small":"large",onClick:function(){E(b)}},c.a.createElement(Lt.a,null))),c.a.createElement(ba.a,{title:o.formatMessage({id:"label.fullscreen",defaultMessage:"Fullscreen"}),placement:x?"top":"left"},c.a.createElement(xt.a,{"aria-label":o.formatMessage({id:"label.fullscreen",defaultMessage:"Fullscreen"}),className:S.fab,disabled:!j,size:M?"small":"large",onClick:function(){v(b)}},c.a.createElement(At.a,null)))),c.a.createElement(jt,{showQuality:!0,advancedMode:u,videoContain:!0,consumerSpatialLayers:b?b.spatialLayers:null,consumerTemporalLayers:b?b.temporalLayers:null,consumerCurrentSpatialLayer:b?b.currentSpatialLayer:null,consumerCurrentTemporalLayer:b?b.currentTemporalLayer:null,consumerPreferredSpatialLayer:b?b.preferredSpatialLayer:null,consumerPreferredTemporalLayer:b?b.preferredTemporalLayer:null,videoMultiLayer:b&&"simple"!==b.type,videoTrack:b&&b.track,videoVisible:j,videoCodec:b&&b.codec,videoScore:b?b.score:null}))))})))),Bt=Object(Me.b)(Object(u.b)((function(){var e=ge(Ne);return function(a){var t;return t=a.peerVolumes[a.me.id]<a.settings.noiseThreshold?1+Math.abs(a.peerVolumes[a.me.id]-a.settings.noiseThreshold)/(-120-a.settings.noiseThreshold):0,Object(fa.a)(Object(fa.a)({me:a.me},pe(a)),{},{settings:a.settings,activeSpeaker:a.me.id===a.room.activeSpeakerId,canShareScreen:e(a),transports:a.transports,noiseVolume:t})}}),null,null,{areStatesEqual:function(e,a){return a.room===e.room&&a.me===e.me&&Math.round(a.peerVolumes[a.me.id])===Math.round(e.peerVolumes[e.me.id])&&a.peers===e.peers&&a.producers===e.producers&&a.settings===e.settings&&a.transports===e.transports}})(Object(p.a)((function(e){return{root:{flex:"0 0 auto",boxShadow:"var(--peer-shadow)",border:"var(--peer-border)",backgroundColor:"var(--peer-bg-color)",backgroundImage:"var(--peer-empty-avatar)",backgroundPosition:"bottom",backgroundSize:"auto 85%",backgroundRepeat:"no-repeat","&.hover":{boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.05) inset, 0px 0px 8px rgba(82, 168, 236, 0.9)"},"&.active-speaker":{borderColor:"var(--active-speaker-border-color)"},"&:not(.active-speaker):not(.screen)":{},"&.webcam":{order:1},"&.screen":{order:2}},fab:{margin:e.spacing(1),pointerEvents:"auto"},smallContainer:{backgroundColor:"rgba(255, 255, 255, 0.9)",margin:"0.5vmin",padding:"0.5vmin",boxShadow:"0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)",pointerEvents:"auto",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms","&:hover":{backgroundColor:"rgba(213, 213, 213, 1)"}},viewContainer:{position:"relative",width:"100%",height:"100%"},meTag:{position:"absolute",float:"left",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:"rgba(255, 255, 255, 0.5)",fontSize:"7em",zIndex:30,margin:0,opacity:0,transition:"opacity 0.1s ease-in-out","&.hover":{opacity:1},"&.smallContainer":{fontSize:"3em"}},controls:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-end",padding:e.spacing(1),zIndex:21,touchAction:"none",pointerEvents:"none","&.hide":{transition:"opacity 0.1s ease-in-out",opacity:0},"&.hover":{opacity:1}},ptt:{position:"absolute",float:"left",top:"25%",left:"50%",transform:"translate(-50%, 0%)",color:"rgba(255, 255, 255, 0.7)",fontSize:"1.3em",backgroundColor:"rgba(245, 0, 87, 0.70)",margin:"4px",padding:e.spacing(2),zIndex:1200,borderRadius:"20px",textAlign:"center",opacity:0,transition:"opacity 1s ease",pointerEvents:"none","&.enabled":{transition:"opacity 0.1s",opacity:1}}}}),{withTheme:!0})((function(e){var a,t,n,r,o,l,i=Object(s.useState)(!1),u=Object(Ke.a)(i,2),d=u[0],m=u[1],p=Object(be.a)(),f=null,g=e.roomClient,b=e.me,h=e.settings,v=e.activeSpeaker,E=e.spacing,y=e.style,w=e.smallContainer,M=e.advancedMode,k=e.micProducer,S=e.webcamProducer,O=e.screenProducer,N=e.extraVideoProducers,T=e.canShareScreen,j=e.transports,x=e.noiseVolume,P=e.classes,L=Boolean(S)&&!S.locallyPaused&&!S.remotelyPaused,I=Boolean(O)&&!O.locallyPaused&&!O.remotelyPaused;b.canSendMic?k?k.locallyPaused||k.remotelyPaused?(a="muted",t=p.formatMessage({id:"device.unMuteAudio",defaultMessage:"Unmute audio"})):(a="on",t=p.formatMessage({id:"device.muteAudio",defaultMessage:"Mute audio"})):(a="off",t=p.formatMessage({id:"device.activateAudio",defaultMessage:"Activate audio"})):(a="unsupported",t=p.formatMessage({id:"device.audioUnsupported",defaultMessage:"Audio unsupported"})),b.canSendWebcam?S?(n="on",r=p.formatMessage({id:"device.stopVideo",defaultMessage:"Stop video"})):(n="off",r=p.formatMessage({id:"device.startVideo",defaultMessage:"Start video"})):(n="unsupported",r=p.formatMessage({id:"device.videoUnsupported",defaultMessage:"Video unsupported"})),b.canShareScreen?O?(o="on",l=p.formatMessage({id:"device.stopScreenSharing",defaultMessage:"Stop screen sharing"})):(o="off",l=p.formatMessage({id:"device.startScreenSharing",defaultMessage:"Start screen sharing"})):(o="unsupported",l=p.formatMessage({id:"device.screenSharingUnsupported",defaultMessage:"Screen sharing not supported"}));var A=c.a.useState(!1),R=Object(Ke.a)(A,2),B=R[0],V=R[1],D=function(){V(!1)};"off"===o&&b.screenShareInProgress&&B&&D();var F={margin:E},z=null;k&&k.score&&(z=k.score.reduce((function(e,a){return e.score<a.score?e:a})));var H=null;return S&&S.score&&(H=S.score.reduce((function(e,a){return e.score<a.score?e:a}))),Object(s.useEffect)((function(){var e;return M&&(e=setInterval((function(){return g.getTransportStats()}),1e3)),function(){return clearInterval(e)}}),[g,M]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Be()(P.root,"webcam",d?"hover":null,v?"active-speaker":null),onMouseOver:function(){return m(!0)},onMouseOut:function(){return m(!1)},onTouchStart:function(){f&&clearTimeout(f),m(!0)},onTouchEnd:function(){f&&clearTimeout(f),f=setTimeout((function(){m(!1)}),2e3)},style:F},"mobile"!==b.browser.platform&&w&&c.a.createElement("div",{className:Be()(P.ptt,"muted"===a&&b.isSpeaking?"enabled":null)},c.a.createElement(C.a,{id:"me.mutedPTT",defaultMessage:"You are muted, hold down SPACE-BAR to talk"})),c.a.createElement("div",{className:P.viewContainer,style:y},"mobile"!==b.browser.platform&&!w&&c.a.createElement("div",{className:Be()(P.ptt,"muted"===a&&b.isSpeaking?"enabled":null)},c.a.createElement(C.a,{id:"me.mutedPTT",defaultMessage:"You are muted, hold down SPACE-BAR to talk"})),c.a.createElement("p",{className:Be()(P.meTag,d?"hover":null,w?"smallContainer":null)},c.a.createElement(C.a,{id:"room.me",defaultMessage:"ME"})),!h.buttonControlBar&&c.a.createElement("div",{className:Be()(P.controls,h.hiddenControls?"hide":null,d?"hover":null),onMouseOver:function(){return m(!0)},onMouseOut:function(){return m(!1)},onTouchStart:function(){f&&clearTimeout(f),m(!0)},onTouchEnd:function(){f&&clearTimeout(f),f=setTimeout((function(){m(!1)}),2e3)}},c.a.createElement(c.a.Fragment,null,c.a.createElement(ba.a,{title:t,placement:"left"},w?c.a.createElement("div",null,c.a.createElement(Xe.a,{"aria-label":p.formatMessage({id:"device.muteAudio",defaultMessage:"Mute audio"}),className:P.smallContainer,disabled:!b.canSendMic||b.audioInProgress,color:"on"===a?h.voiceActivatedUnmute&&!b.isAutoMuted?"primary":"default":"secondary",size:"small",onClick:function(){"off"===a?g.updateMic({start:!0}):"on"===a?g.muteMic():g.unmuteMic()}},"on"===a?c.a.createElement(Oa.a,{color:b.isAutoMuted?"secondary":"primary",style:{opacity:x}}):c.a.createElement(Ta.a,null))):c.a.createElement("div",null,c.a.createElement(xt.a,{"aria-label":p.formatMessage({id:"device.muteAudio",defaultMessage:"Mute audio"}),className:P.fab,disabled:!b.canSendMic||b.audioInProgress,color:"on"===a?h.voiceActivatedUnmute&&!b.isAutoMuted?"primary":"default":"secondary",size:"large",onClick:function(){"off"===a?g.updateMic({start:!0}):"on"===a?g.muteMic():g.unmuteMic()}},"on"===a?c.a.createElement(Oa.a,{color:b.isAutoMuted&&h.voiceActivatedUnmute?"secondary":"primary",style:b.isAutoMuted&&h.voiceActivatedUnmute?{opacity:x}:{opacity:1}}):c.a.createElement(Ta.a,null)))),c.a.createElement(ba.a,{title:r,placement:"left"},w?c.a.createElement("div",null,c.a.createElement(Xe.a,{"aria-label":p.formatMessage({id:"device.startVideo",defaultMessage:"Start video"}),className:P.smallContainer,disabled:!b.canSendWebcam||b.webcamInProgress,color:"on"===n?"primary":"secondary",size:"small",onClick:function(){"on"===n?g.disableWebcam():g.updateWebcam({start:!0})}},"on"===n?c.a.createElement(va.a,null):c.a.createElement(Ma.a,null))):c.a.createElement("div",null,c.a.createElement(xt.a,{"aria-label":p.formatMessage({id:"device.startVideo",defaultMessage:"Start video"}),className:P.fab,disabled:!b.canSendWebcam||b.webcamInProgress,color:"on"===n?"default":"secondary",size:"large",onClick:function(){"on"===n?g.disableWebcam():g.updateWebcam({start:!0})}},"on"===n?c.a.createElement(va.a,null):c.a.createElement(Ma.a,null)))),"mobile"!==b.browser.platform&&c.a.createElement(ba.a,{open:B,onClose:D,onOpen:function(){V(!0)},title:l,placement:"left"},w?c.a.createElement("div",null,c.a.createElement(Xe.a,{"aria-label":p.formatMessage({id:"device.startScreenSharing",defaultMessage:"Start screen sharing"}),className:P.smallContainer,disabled:!T||!b.canShareScreen||b.screenShareInProgress,color:"primary",size:"small",onClick:function(){"off"===o?g.updateScreenSharing({start:!0}):"on"===o&&g.disableScreenSharing()}},("on"===o||"unsupported"===o)&&c.a.createElement(Ba.a,null),"off"===o&&c.a.createElement(Aa.a,null))):c.a.createElement("div",null,c.a.createElement(xt.a,{"aria-label":p.formatMessage({id:"device.startScreenSharing",defaultMessage:"Start screen sharing"}),className:P.fab,disabled:!T||!b.canShareScreen||b.screenShareInProgress,color:"on"===o?"primary":"default",size:"large",onClick:function(){"off"===o?g.updateScreenSharing({start:!0}):"on"===o&&g.disableScreenSharing()}},("on"===o||"unsupported"===o)&&c.a.createElement(Ba.a,null),"off"===o&&c.a.createElement(Aa.a,null)))))),c.a.createElement(jt,{isMe:!0,VideoView:!0,advancedMode:M,peer:b,displayName:h.displayName,showPeerInfo:!0,videoTrack:S&&S.track,videoVisible:L,audioCodec:k&&k.codec,videoCodec:S&&S.codec,netInfo:j&&j,audioScore:z,videoScore:H,showQuality:!0,onChangeDisplayName:function(e){g.changeDisplayName(e)}},"muted"===a?null:c.a.createElement(et,{id:b.id})))),N.map((function(e){return c.a.createElement("div",{key:e.id,className:Be()(P.root,"webcam",d?"hover":null,v?"active-speaker":null),onMouseOver:function(){return m(!0)},onMouseOut:function(){return m(!1)},onTouchStart:function(){f&&clearTimeout(f),m(!0)},onTouchEnd:function(){f&&clearTimeout(f),f=setTimeout((function(){m(!1)}),2e3)},style:F},c.a.createElement("div",{className:P.viewContainer,style:y},c.a.createElement("p",{className:Be()(P.meTag,d?"hover":null,w?"smallContainer":null)},c.a.createElement(C.a,{id:"room.me",defaultMessage:"ME"})),c.a.createElement("div",{className:Be()(P.controls,h.hiddenControls?"hide":null,d?"hover":null),onMouseOver:function(){return m(!0)},onMouseOut:function(){return m(!1)},onTouchStart:function(){f&&clearTimeout(f),m(!0)},onTouchEnd:function(){f&&clearTimeout(f),f=setTimeout((function(){m(!1)}),2e3)}},c.a.createElement(ba.a,{title:r,placement:"left"},w?c.a.createElement("div",null,c.a.createElement(Xe.a,{"aria-label":p.formatMessage({id:"device.stopVideo",defaultMessage:"Stop video"}),className:P.smallContainer,disabled:!b.canSendWebcam||b.webcamInProgress,size:"small",color:"primary",onClick:function(){g.disableExtraVideo(e.id)}},c.a.createElement(va.a,null))):c.a.createElement("div",null,c.a.createElement(xt.a,{"aria-label":p.formatMessage({id:"device.stopVideo",defaultMessage:"Stop video"}),className:P.fab,disabled:!b.canSendWebcam||b.webcamInProgress,size:w?"small":"large",onClick:function(){g.disableExtraVideo(e.id)}},c.a.createElement(va.a,null))))),c.a.createElement(jt,{isMe:!0,isExtraVideo:!0,advancedMode:M,peer:b,displayName:h.displayName,showPeerInfo:!0,videoTrack:e&&e.track,videoVisible:L,videoCodec:e&&e.codec,onChangeDisplayName:function(e){g.changeDisplayName(e)}})))})),O&&c.a.createElement("div",{className:Be()(P.root,"screen",d?"hover":null),onMouseOver:function(){return m(!0)},onMouseOut:function(){return m(!1)},onTouchStart:function(){f&&clearTimeout(f),m(!0)},onTouchEnd:function(){f&&clearTimeout(f),f=setTimeout((function(){m(!1)}),2e3)},style:F},c.a.createElement("div",{className:P.viewContainer,style:y},c.a.createElement("p",{className:Be()(P.meTag,d?"hover":null,w?"smallContainer":null)},c.a.createElement(C.a,{id:"room.me",defaultMessage:"ME"})),c.a.createElement(jt,{isMe:!0,isScreen:!0,advancedMode:M,videoContain:!0,videoTrack:O&&O.track,videoVisible:I,videoCodec:O&&O.codec}))))})))),Vt=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).updateDimensions=function(){if(r.peersRef.current){var e=r.props.boxes;if(0!==e){for(var a,t,n=r.peersRef.current.clientWidth-(r.props.buttonControlBar?60:0),o=r.peersRef.current.clientHeight-(r.props.toolbarsVisible||r.props.permanentTopBar?60:0),l=1;l<100;l+=1){if(o<(t=(a=n/Math.ceil(e/l))/1.334)*l){a=1.334*(t=o/l);break}if(o-t*l<t)break}Math.ceil(r.state.peerWidth)!==Math.ceil(.94*a)&&r.setState({peerWidth:.94*a,peerHeight:.94*t})}}},r.state={},r.resizeTimeout=null,r.peersRef=c.a.createRef(),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){return e.updateDimensions()}),250)})),this.updateDimensions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.updateDimensions()}},{key:"render",value:function(){var e=this.props,a=(e.roomClient,e.advancedMode),t=e.spotlightsPeers,n=e.toolbarsVisible,r=e.permanentTopBar,o=e.buttonControlBar,l=e.classes,i={width:this.state.peerWidth?this.state.peerWidth:0,height:this.state.peerHeight?this.state.peerHeight:0};return c.a.createElement("div",{className:Be()(l.root,n||r?l.showingToolBar:l.hiddenToolBar,o?l.buttonControlBar:null),ref:this.peersRef},c.a.createElement(Bt,{advancedMode:a,spacing:6,style:i}),t.map((function(e){return c.a.createElement(Rt,{key:e,advancedMode:a,id:e,spacing:6,style:i})})))}}]),t}(c.a.PureComponent),Dt=Object(Me.b)(Object(u.b)((function(e){return{boxes:me(e),spotlightsPeers:oe(e),toolbarsVisible:e.room.toolbarsVisible,permanentTopBar:e.settings.permanentTopBar,buttonControlBar:e.settings.buttonControlBar,toolAreaOpen:e.toolarea.toolAreaOpen}}),null,null,{areStatesEqual:function(e,a){return a.peers===e.peers&&a.producers===e.producers&&a.consumers===e.consumers&&a.room.spotlights===e.room.spotlights&&a.room.toolbarsVisible===e.room.toolbarsVisible&&a.settings.permanentTopBar===e.settings.permanentTopBar&&a.settings.buttonControlBar===e.settings.buttonControlBar&&a.toolarea.toolAreaOpen===e.toolarea.toolAreaOpen}})(Object(p.a)((function(e){return{root:{width:"100%",height:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",overflow:"hidden",justifyContent:"center",alignItems:"center",alignContent:"center"},hiddenToolBar:{paddingTop:0,transition:"padding .5s"},showingToolBar:{paddingTop:60,transition:"padding .5s"},buttonControlBar:Object(i.a)({paddingLeft:60},e.breakpoints.down("sm"),{paddingLeft:0})}}),{withTheme:!0})(Vt))),Ft=Object(u.b)((function(e,a){var t=a.id,n=fe();return Object(fa.a)({peer:e.peers[t]},n(e,t))}),null,null,{areStatesEqual:function(e,a){return a.peers===e.peers&&a.consumers===e.consumers&&a.room.activeSpeakerId===e.room.activeSpeakerId}})(Object(p.a)((function(e){return{root:{flex:"0 0 auto",boxShadow:"var(--peer-shadow)",border:"var(--peer-border)",touchAction:"none",backgroundColor:"var(--peer-bg-color)",backgroundImage:"var(--peer-empty-avatar)",backgroundPosition:"bottom",backgroundSize:"auto 85%",backgroundRepeat:"no-repeat","&.webcam":{order:2},"&.screen":{order:1}},viewContainer:{position:"relative","&.webcam":{order:2},"&.screen":{order:1}},videoInfo:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.3)",display:"flex",justifyContent:"center",alignItems:"center",padding:e.spacing(1),zIndex:21,"& p":{padding:"6px 12px",borderRadius:6,userSelect:"none",pointerEvents:"none",fontSize:20,color:"rgba(255, 255, 255, 0.55)"}}}}),{withTheme:!0})((function(e){var a=e.advancedMode,t=e.peer,n=e.micConsumer,r=e.webcamConsumer,o=e.screenConsumer,l=e.spacing,i=e.style,s=e.classes,u=Boolean(r)&&!r.locallyPaused&&!r.remotelyPaused,d=Boolean(o)&&!o.locallyPaused&&!o.remotelyPaused,m={margin:l};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:Be()(s.root,"webcam"),style:m},c.a.createElement("div",{className:Be()(s.viewContainer),style:i},!u&&c.a.createElement("div",{className:s.videoInfo},c.a.createElement("p",null,c.a.createElement(C.a,{id:"room.videoPaused",defaultMessage:"This video is paused"}))),c.a.createElement(jt,{advancedMode:a,peer:t,displayName:t.displayName,showPeerInfo:!0,consumerSpatialLayers:r?r.spatialLayers:null,consumerTemporalLayers:r?r.temporalLayers:null,consumerCurrentSpatialLayer:r?r.currentSpatialLayer:null,consumerCurrentTemporalLayer:r?r.currentTemporalLayer:null,consumerPreferredSpatialLayer:r?r.preferredSpatialLayer:null,consumerPreferredTemporalLayer:r?r.preferredTemporalLayer:null,videoMultiLayer:r&&"simple"!==r.type,videoTrack:r&&r.track,videoVisible:u,audioCodec:n&&n.codec,videoCodec:r&&r.codec,audioScore:n?n.score:null,videoScore:r?r.score:null},c.a.createElement(et,{id:t.id})))),o&&c.a.createElement("div",{className:Be()(s.root,"screen")},!d&&c.a.createElement("div",{className:s.videoInfo,style:i},c.a.createElement("p",null,c.a.createElement(C.a,{id:"room.videoPaused",defaultMessage:"This video is paused"}))),d&&c.a.createElement("div",{className:Be()(s.viewContainer),style:i},c.a.createElement(jt,{advancedMode:a,videoContain:!0,consumerSpatialLayers:o?o.spatialLayers:null,consumerTemporalLayers:o?o.temporalLayers:null,consumerCurrentSpatialLayer:o?o.currentSpatialLayer:null,consumerCurrentTemporalLayer:o?o.currentTemporalLayer:null,consumerPreferredSpatialLayer:o?o.preferredSpatialLayer:null,consumerPreferredTemporalLayer:o?o.preferredTemporalLayer:null,videoMultiLayer:o&&"simple"!==o.type,videoTrack:o&&o.track,videoVisible:d,videoCodec:o&&o.codec,videoScore:o?o.score:null}))))}))),zt=t(129),Ht=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).state={lastSpeaker:null},r.getActivePeerId=function(){var e=r.props,a=e.selectedPeerId,t=e.peers,n=r.state.lastSpeaker;if(a&&t[a])return r.props.selectedPeerId;if(a==r.props.myId)return r.props.selectedPeerId;if(n&&t[n])return r.state.lastSpeaker;var o=Object.keys(t);return o.length>0?o[0]:void 0},r.isSharingCamera=function(e){return r.props.peers[e]&&r.props.peers[e].consumers.some((function(e){return"screen"===r.props.consumers[e].source}))},r.updateDimensions=function(){var e={},a=r.rootContainer.current;if(a){var t=a.clientWidth,n=.8*a.clientHeight-(r.props.toolbarsVisible||r.props.permanentTopBar?40:0),o=.2*a.clientHeight;if(r.activePeerContainer.current){var l=t-0,i=l/1.334;r.isSharingCamera(r.getActivePeerId())&&(i=(l/=2)/1.334),i>n-40&&(l=1.334*(i=n-40)),e.speakerWidth=l,e.speakerHeight=i}if(r.filmStripContainer.current){var s=o-10,c=1.334*s;c*r.props.boxes>t-0&&(s=(c=(t-0)/r.props.boxes)/1.334),e.filmStripWidth=c,e.filmStripHeight=s}r.setState(Object(fa.a)({},e))}},r.resizeTimeout=null,r.rootContainer=c.a.createRef(),r.activePeerContainer=c.a.createRef(),r.filmStripContainer=c.a.createRef(),r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){return e.updateDimensions()}),250)})),this.updateDimensions()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"componentDidUpdate",value:function(e){e!==this.props&&(null!=this.props.activeSpeakerId&&this.props.activeSpeakerId!==this.props.myId&&this.setState({lastSpeaker:this.props.activeSpeakerId}),this.updateDimensions())}},{key:"render",value:function(){var e=this,a=this.props,t=a.roomClient,n=a.peers,r=a.myId,o=a.advancedMode,l=a.spotlights,i=a.toolbarsVisible,s=a.permanentTopBar,u=a.classes,d=this.getActivePeerId(),m={width:this.state.speakerWidth,height:this.state.speakerHeight},p={width:this.state.filmStripWidth,height:this.state.filmStripHeight};return c.a.createElement("div",{className:Be()(u.root,i||s?u.showingToolBar:u.hiddenToolBar),ref:this.rootContainer},c.a.createElement("div",{className:u.speaker,ref:this.activePeerContainer},n[d]&&c.a.createElement(Ft,{advancedMode:o,id:d,style:m}),d===r&&c.a.createElement(Bt,{advancedMode:o,style:m})),c.a.createElement("div",{className:u.filmStrip,ref:this.filmStripContainer},c.a.createElement(zt.a,{container:!0,justify:"center",spacing:0},c.a.createElement(zt.a,{item:!0},c.a.createElement("div",{className:Be()(u.filmItem,{active:r===d})},c.a.createElement(Bt,{advancedMode:o,style:p,smallContainer:!0}))),Object.keys(n).map((function(a){return l.find((function(e){return e===a}))?c.a.createElement(zt.a,{key:a,item:!0},c.a.createElement("div",{key:a,onClick:function(){return t.setSelectedPeer(a)},className:Be()(u.filmItem,{selected:e.props.selectedPeerId===a,active:a===d})},c.a.createElement(Rt,{advancedMode:o,id:a,style:p,smallContainer:!0}))):""})))))}}]),t}(c.a.PureComponent),Wt=Object(Me.b)(Object(u.b)((function(e){return{activeSpeakerId:e.room.activeSpeakerId,selectedPeerId:e.room.selectedPeerId,peers:e.peers,consumers:e.consumers,myId:e.me.id,spotlights:e.room.spotlights,boxes:me(e),toolbarsVisible:e.room.toolbarsVisible,toolAreaOpen:e.toolarea.toolAreaOpen,permanentTopBar:e.settings.permanentTopBar}}),null,null,{areStatesEqual:function(e,a){return a.room.activeSpeakerId===e.room.activeSpeakerId&&a.room.selectedPeerId===e.room.selectedPeerId&&a.room.toolbarsVisible===e.room.toolbarsVisible&&a.toolarea.toolAreaOpen===e.toolarea.toolAreaOpen&&a.settings.permanentTopBar===e.settings.permanentTopBar&&a.peers===e.peers&&a.consumers===e.consumers&&a.room.spotlights===e.room.spotlights&&a.me.id===e.me.id}})(Object(p.a)((function(){return{root:{height:"100%",width:"100%",display:"grid",overflow:"hidden",gridTemplateColumns:"1fr",gridTemplateRows:"1fr 0.25fr"},speaker:{gridArea:"1 / 1 / 1 / 1",display:"flex",justifyContent:"center",alignItems:"center"},filmStrip:{gridArea:"2 / 1 / 2 / 1"},filmItem:{display:"flex",border:"var(--peer-border)","&.selected":{borderColor:"var(--selected-peer-border-color)"},"&.active":{borderColor:"var(--selected-peer-border-color)"}},hiddenToolBar:{paddingTop:0,transition:"padding .5s"},showingToolBar:{paddingTop:60,transition:"padding .5s"}}}))(Ht))),qt=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e))._audioTrack=null,r._audioOutputDevice=null,r}return Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("audio",{ref:"audio",autoPlay:!0})}},{key:"componentDidMount",value:function(){var e=this.props,a=e.audioTrack,t=e.audioOutputDevice;this._setTrack(a),this._setOutputDevice(t)}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var a=this.props,t=a.audioTrack,n=a.audioOutputDevice;this._setTrack(t),this._setOutputDevice(n)}}},{key:"_setTrack",value:function(e){if(this._audioTrack!==e){this._audioTrack=e;var a=this.refs.audio;if(e){var t=new MediaStream;e&&t.addTrack(e),a.srcObject=t}else a.srcObject=null}}},{key:"_setOutputDevice",value:function(e){if(this._audioOutputDevice!==e){this._audioOutputDevice=e;var a=this.refs.audio;e&&"function"===typeof a.setSinkId&&a.setSinkId(e)}}}]),t}(c.a.PureComponent),Ut=Object(u.b)((function(e){return{micConsumers:ne(e),audioOutputDevice:e.settings.selectedAudioOutputDevice}}),null,null,{areStatesEqual:function(e,a){return a.consumers===e.consumers&&a.room.spotlights===e.room.spotlights&&a.settings.selectedAudioOutputDevice===e.settings.selectedAudioOutputDevice}})((function(e){var a=e.micConsumers,t=e.audioOutputDevice;return c.a.createElement("div",{"data-component":"AudioPeers"},a.map((function(e){return c.a.createElement(qt,{key:e.id,audioTrack:e.track,audioOutputDevice:t})})))})),_t=t(403),Gt=t.n(_t),Yt=Object(u.b)((function(e){return{consumer:e.consumers[e.room.fullScreenConsumer],toolbarsVisible:e.room.toolbarsVisible,permanentTopBar:e.settings.permanentTopBar}}),(function(e){return{toggleConsumerFullscreen:function(a){a&&e(b.H(a.id))}}}),null,{areStatesEqual:function(e,a){return a.consumers[a.room.fullScreenConsumer]===e.consumers[e.room.fullScreenConsumer]&&a.room.toolbarsVisible===e.room.toolbarsVisible&&a.settings.permanentTopBar===e.settings.permanentTopBar}})(Object(p.a)((function(e){return{root:{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:2e4},controls:{position:"absolute",zIndex:20020,right:0,top:0,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:e.spacing(1)},button:{flex:"0 0 auto",margin:"0.2vmin",borderRadius:2,backgroundColor:"rgba(255, 255, 255, 0.7)",cursor:"pointer",transitionProperty:"opacity, background-color",transitionDuration:"0.15s",width:"5vmin",height:"5vmin",opacity:0,"&.visible":{opacity:1}},icon:{fontSize:"5vmin"},incompatibleVideo:{position:"absolute",zIndex:20010,top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","& p":{padding:"6px 12px",borderRadius:6,userSelect:"none",pointerEvents:"none",fontSize:15,color:"rgba(255, 255, 255, 0.55)"}}}}))((function(e){var a=e.advancedMode,t=e.consumer,n=e.toggleConsumerFullscreen,r=e.toolbarsVisible,o=e.permanentTopBar,l=e.classes;if(!t)return null;var i=Boolean(t)&&!t.locallyPaused&&!t.remotelyPaused;return c.a.createElement("div",{className:l.root},c.a.createElement("div",{className:l.controls},c.a.createElement("div",{className:Be()(l.button,{visible:r||o}),onClick:function(e){e.stopPropagation(),n(t)}},c.a.createElement(Gt.a,{className:l.icon}))),c.a.createElement(jt,{advancedMode:a,videoContain:!0,consumerSpatialLayers:t?t.spatialLayers:null,consumerTemporalLayers:t?t.temporalLayers:null,consumerCurrentSpatialLayer:t?t.currentSpatialLayer:null,consumerCurrentTemporalLayer:t?t.currentTemporalLayer:null,consumerPreferredSpatialLayer:t?t.preferredSpatialLayer:null,consumerPreferredTemporalLayer:t?t.preferredTemporalLayer:null,videoMultiLayer:t&&"simple"!==t.type,videoTrack:t&&t.track,videoVisible:i,videoCodec:t&&t.codec,videoScore:t?t.score:null}))}))),Kt=t(15),Qt=t.n(Kt),Xt=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).handleToggleFullscreen=function(){r.fullscreen.fullscreenElement?r.fullscreen.exitFullscreen():r.fullscreen.requestFullscreen(r.window.document.documentElement)},r.handleFullscreenChange=function(){r.setState({fullscreen:null!==r.fullscreen.fullscreenElement})},r.container=document.createElement("div"),r.window=null,r.windowCheckerInterval=null,r.released=!1,r.fullscreen=null,r.state={mounted:!1,fullscreen:!1},r}return Object(r.a)(t,[{key:"render",value:function(){var e=this.props.classes;return this.state.mounted?Qt.a.createPortal([c.a.createElement("div",{key:"newwindow",className:e.root},c.a.createElement("div",{className:e.controls},this.fullscreen.fullscreenEnabled&&c.a.createElement("div",{className:e.button,onClick:this.handleToggleFullscreen,"data-tip":"Fullscreen","data-place":"right","data-type":"dark"},this.state.fullscreen?c.a.createElement(Gt.a,{className:e.icon}):c.a.createElement(At.a,{className:e.icon}))),this.props.children)],this.container):null}},{key:"componentDidMount",value:function(){this.openChild(),this.setState({mounted:!0}),this.fullscreen=new k(this.window.document),this.fullscreen.fullscreenEnabled&&this.fullscreen.addEventListener("fullscreenchange",this.handleFullscreenChange)}},{key:"openChild",value:function(){var e,a=this,t=this.props,n=t.url,r=t.title,o=t.name,l=t.features,i=t.onBlock,s=t.center;if("parent"===s)l.left=window.top.outerWidth/2+window.top.screenX-l.width/2,l.top=window.top.outerHeight/2+window.top.screenY-l.height/2;else if("screen"===s){var c=void 0!==window.screenLeft?window.screenLeft:window.screen.left,u=void 0!==window.screenTop?window.screenTop:window.screen.top,d=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,m=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height;l.left=d/2-l.width/2+c,l.top=m/2-l.height/2+u}this.window=window.open(n,o,(e=l,Object.keys(e).reduce((function(a,t){var n=e[t];return"boolean"===typeof n?a.push("".concat(t,"=").concat(n?"yes":"no")):a.push("".concat(t,"=").concat(n)),a}),[]).join(","))),this.windowCheckerInterval=setInterval((function(){a.window&&!a.window.closed||a.release()}),50),this.window?(this.window.document.title=r,this.window.document.body.appendChild(this.container),this.props.copyStyles&&setTimeout((function(){return e=document,t=a.window.document,void Array.from(e.styleSheets).forEach((function(a){var n;try{n=a.cssRules}catch(l){}if(n){var r=e.createElement("style");Array.from(a.cssRules).forEach((function(a){var t=a.cssText,n=a.type,o=t;[3,5].includes(n)&&(o=t.split("url(").map((function(e){return"/"===e[1]?"".concat(e.slice(0,1)).concat(window.location.origin).concat(e.slice(1)):e})).join("url(")),r.appendChild(e.createTextNode(o))})),t.head.appendChild(r)}else if(a.href){var o=e.createElement("link");o.rel="stylesheet",o.href=a.href,t.head.appendChild(o)}}));var e,t}),0),this.window.addEventListener("beforeunload",(function(){return a.release()}))):"function"===typeof i&&i(null)}},{key:"componentWillUnmount",value:function(){this.window&&(this.fullscreen&&this.fullscreen.fullscreenEnabled&&this.fullscreen.removeEventListener("fullscreenchange",this.handleFullscreenChange),this.window.close())}},{key:"release",value:function(){if(!this.released){this.released=!0,clearInterval(this.windowCheckerInterval);var e=this.props.onUnload;"function"===typeof e&&e(null)}}}]),t}(c.a.PureComponent);Xt.defaultProps={url:"",name:"Multiparty Meeting",title:"Multiparty Meeting",features:{width:"800px",height:"600px"},onBlock:null,onUnload:null,center:"parent",copyStyles:!0};var Jt=Object(p.a)((function(e){return{root:{position:"absolute",top:0,left:0,height:"100%",width:"100%",zIndex:2e4},controls:{position:"absolute",zIndex:20020,right:0,top:0,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:e.spacing(1)},button:{flex:"0 0 auto",margin:"0.2vmin",borderRadius:2,backgroundColor:"rgba(255, 255, 255, 0.7)",cursor:"pointer",transitionProperty:"opacity, background-color",transitionDuration:"0.15s",width:"5vmin",height:"5vmin"},icon:{fontSize:"5vmin"},incompatibleVideo:{position:"absolute",zIndex:20010,top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center","& p":{padding:"6px 12px",borderRadius:6,userSelect:"none",pointerEvents:"none",fontSize:15,color:"rgba(255, 255, 255, 0.55)"}}}}))(Xt),$t=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e))._videoTrack=null,r.video=c.a.createRef(),r}return Object(r.a)(t,[{key:"render",value:function(){var e=this.props,a=e.videoVisible,t=e.videoProfile,n=e.classes;return c.a.createElement("div",{className:n.root},c.a.createElement("video",{ref:this.video,className:Be()(n.video,{hidden:!a,loading:"none"===t}),autoPlay:!0,playsInline:!0,muted:Boolean(!0)}))}},{key:"componentDidMount",value:function(){var e=this.props.videoTrack;this._setTracks(e)}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var a=this.props.videoTrack;this._setTracks(a)}}},{key:"_setTracks",value:function(e){if(this._videoTrack!==e){this._videoTrack=e;var a=this.video.current;if(e){var t=new MediaStream;t.addTrack(e),a.srcObject=t}else a.srcObject=null}}}]),t}(c.a.PureComponent),Zt=Object(p.a)((function(){return{root:{position:"relative",flex:"100 100 auto",height:"100%",width:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},video:{flex:"100 100 auto",height:"100%",width:"100%",objectFit:"contain",userSelect:"none",transitionProperty:"opacity",transitionDuration:".15s",backgroundColor:"rgba(0, 0, 0, 1)","&.hidden":{opacity:0,transitionDuration:"0s"},"&.loading":{filter:"blur(5px)"}}}}))($t),en=Object(u.b)((function(e){return{consumer:e.consumers[e.room.windowConsumer]}}),(function(e){return{toggleConsumerWindow:function(){e(b.I())}}}),null,{areStatesEqual:function(e,a){return a.consumers[a.room.windowConsumer]===e.consumers[e.room.windowConsumer]}})((function(e){var a=e.advancedMode,t=e.consumer,n=e.toggleConsumerWindow;if(!t)return null;var r=Boolean(t)&&!t.locallyPaused&&!t.remotelyPaused;return c.a.createElement(Jt,{onUnload:n},c.a.createElement(Zt,{advancedMode:a,consumerSpatialLayers:t?t.spatialLayers:null,consumerTemporalLayers:t?t.temporalLayers:null,consumerCurrentSpatialLayer:t?t.currentSpatialLayer:null,consumerCurrentTemporalLayer:t?t.currentTemporalLayer:null,consumerPreferredSpatialLayer:t?t.preferredSpatialLayer:null,consumerPreferredTemporalLayer:t?t.preferredTemporalLayer:null,videoMultiLayer:t&&"simple"!==t.type,videoTrack:t&&t.track,videoVisible:r,videoCodec:t&&t.codec,videoScore:t?t.score:null}))})),an=t(196),tn=t(200),nn=t(284),rn=t(202),on=t(285),ln=t(280),sn=t(673),cn=t(281),un=t(283),dn=t(282),mn=t(290),pn=t(626),fn=t.n(pn),gn=Object(Me.b)(Object(u.b)((function(e,a){var t=a.id,n=ge(Ce);return function(e){return{peer:e.lobbyPeers[t],promotionInProgress:e.room.lobbyPeersPromotionInProgress,canPromote:n(e)}}}),null,null,{areStatesEqual:function(e,a){return a.room===e.room&&a.peers===e.peers&&a.me.roles===e.me.roles&&a.lobbyPeers===e.lobbyPeers}})(Object(p.a)((function(){return{root:{alignItems:"center"}}}))((function(e){var a=e.roomClient,t=e.peer,n=e.promotionInProgress,r=e.canPromote,o=e.classes,l=Object(be.a)(),i=t.picture||_e.a;return c.a.createElement(cn.a,{className:Be()(o.root),key:t.peerId,button:!0,alignItems:"flex-start"},c.a.createElement(dn.a,null,c.a.createElement(mn.a,{alt:"Peer avatar",src:i})),c.a.createElement(un.a,{primary:t.displayName}),c.a.createElement(ba.a,{title:l.formatMessage({id:"tooltip.admitFromLobby",defaultMessage:"Click to let them in"})},c.a.createElement(Xe.a,{disabled:!r||t.promotionInProgress||n,color:"primary",onClick:function(e){e.stopPropagation(),a.promoteLobbyPeer(t.id)}},c.a.createElement(fn.a,null))))})))),bn={handleCloseLockDialog:b.o,handleAccessCode:b.c},hn=Object(Me.b)(Object(u.b)((function(){var e=ge(Ce);return function(a){return{room:a.room,lobbyPeers:Q(a),canPromote:e(a)}}}),bn,null,{areStatesEqual:function(e,a){return a.room===e.room&&a.me.roles===e.me.roles&&a.peers===e.peers&&a.lobbyPeers===e.lobbyPeers}})(Object(p.a)((function(e){var a;return{root:{},dialogPaper:(a={width:"30vw"},Object(i.a)(a,e.breakpoints.down("lg"),{width:"40vw"}),Object(i.a)(a,e.breakpoints.down("md"),{width:"50vw"}),Object(i.a)(a,e.breakpoints.down("sm"),{width:"70vw"}),Object(i.a)(a,e.breakpoints.down("xs"),{width:"90vw"}),a),lock:{padding:e.spacing(2)}}}))((function(e){var a=e.roomClient,t=e.room,n=e.handleCloseLockDialog,r=e.lobbyPeers,o=e.canPromote,l=e.classes;return c.a.createElement(an.a,{className:l.root,open:t.lockDialogOpen,onClose:function(){return n(!1)},classes:{paper:l.dialogPaper}},c.a.createElement(tn.a,{id:"form-dialog-title"},c.a.createElement(C.a,{id:"room.lobbyAdministration",defaultMessage:"Lobby administration"})),r.length>0?c.a.createElement(ln.a,{dense:!0,subheader:c.a.createElement(sn.a,{component:"div"},c.a.createElement(C.a,{id:"room.peersInLobby",defaultMessage:"Participants in Lobby"}))},r.map((function(e){return c.a.createElement(gn,{key:e,id:e})}))):c.a.createElement(rn.a,null,c.a.createElement(on.a,{gutterBottom:!0},c.a.createElement(C.a,{id:"room.lobbyEmpty",defaultMessage:"There are currently no one in the lobby"}))),c.a.createElement(nn.a,null,c.a.createElement(Le.a,{disabled:0===r.length||!o||t.lobbyPeersPromotionInProgress,onClick:function(){return a.promoteAllLobbyPeers()},color:"primary"},c.a.createElement(C.a,{id:"label.promoteAllPeers",defaultMessage:"Promote all"})),c.a.createElement(Le.a,{onClick:function(){return n(!1)},color:"primary"},c.a.createElement(C.a,{id:"label.close",defaultMessage:"Close"}))))})))),vn=t(28),En=t(674),yn=t(337),wn=t(335),Mn=t(675),kn=t(341),Cn=t(684),Sn=t(339),On=t(627),Nn=t.n(On),Tn=t(628),jn=t.n(Tn),xn=t(685),Pn=Object(p.a)({root:{color:"#3880ff",height:2,padding:"15px 0"},track:{height:2},rail:{height:2,opacity:.2},mark:{backgroundColor:"#bfbfbf",height:10,width:3,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}})(Cn.a),Ln={setEchoCancellation:vn.c,setAutoGainControl:vn.a,setNoiseSuppression:vn.e,setVoiceActivatedUnmute:vn.n},In=Object(Me.b)(Object(u.b)((function(e){return{me:e.me,volume:e.peerVolumes[e.me.id],settings:e.settings}}),Ln,null,{areStatesEqual:function(e,a){return a.me===e.me&&a.settings===e.settings&&a.peerVolumes[a.me.id]===e[e.me.id]}})(Object(p.a)((function(e){return{setting:{padding:e.spacing(2)},margin:{height:e.spacing(3)},root:{width:"100%",backgroundColor:e.palette.background.paper},switchLabel:{justifyContent:"space-between",flex:"auto",display:"flex",padding:e.spacing(1)},nested:{display:"block",paddingTop:0,paddingBottom:0,paddingLeft:"25px",paddingRight:"25px"},formControl:{display:"flex"}}}))((function(e){var a,t,n,r=e.setEchoCancellation,o=e.setAutoGainControl,l=e.setNoiseSuppression,i=e.setVoiceActivatedUnmute,s=e.roomClient,u=e.me,d=e.volume,m=e.settings,p=e.classes,f=Object(be.a)(),g=c.a.useState(!1),b=Object(Ke.a)(g,2),h=b[0],v=b[1],E=c.a.useState(!1),y=Object(Ke.a)(E,2),w=y[0],M=y[1],k=[{value:"low",label:f.formatMessage({id:"label.low",defaultMessage:"Low"})},{value:"medium",label:f.formatMessage({id:"label.medium",defaultMessage:"Medium"})},{value:"high",label:f.formatMessage({id:"label.high",defaultMessage:"High (HD)"})},{value:"veryhigh",label:f.formatMessage({id:"label.veryHigh",defaultMessage:"Very high (FHD)"})},{value:"ultra",label:f.formatMessage({id:"label.ultra",defaultMessage:"Ultra (UHD)"})}];return a=u.webcamDevices?Object.values(u.webcamDevices):[],t=u.audioDevices?Object.values(u.audioDevices):[],n=u.audioOutputDevices?Object.values(u.audioOutputDevices):[],c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:p.setting,autoComplete:"off"},c.a.createElement(wn.a,{className:p.formControl},c.a.createElement(kn.a,{value:m.selectedWebcam||"",onChange:function(e){e.target.value&&s.updateWebcam({restart:!0,newDeviceId:e.target.value})},displayEmpty:!0,name:f.formatMessage({id:"settings.camera",defaultMessage:"Camera"}),autoWidth:!0,className:p.selectEmpty,disabled:0===a.length||u.webcamInProgress},a.map((function(e,a){return c.a.createElement(En.a,{key:a,value:e.deviceId},e.label)}))),c.a.createElement(yn.a,null,a.length>0?f.formatMessage({id:"settings.selectCamera",defaultMessage:"Select video device"}):f.formatMessage({id:"settings.cantSelectCamera",defaultMessage:"Unable to select video device"}))),c.a.createElement(ln.a,{className:p.root,component:"nav"},c.a.createElement(cn.a,{button:!0,onClick:function(){return M(!w)}},c.a.createElement(un.a,{primary:f.formatMessage({id:"settings.showAdvancedVideo",defaultMessage:"Advanced video settings"})}),w?c.a.createElement(Nn.a,null):c.a.createElement(jn.a,null)),c.a.createElement(Sn.a,{in:w,timeout:"auto"},c.a.createElement(wn.a,{className:p.formControl},c.a.createElement(kn.a,{value:m.resolution||"",onChange:function(e){e.target.value&&s.updateWebcam({newResolution:e.target.value})},name:"Video resolution",autoWidth:!0,className:p.selectEmpty},k.map((function(e,a){return c.a.createElement(En.a,{key:a,value:e.value},e.label)}))),c.a.createElement(yn.a,null,c.a.createElement(C.a,{id:"settings.resolution",defaultMessage:"Select your video resolution"}))),c.a.createElement(wn.a,{className:p.formControl},c.a.createElement(kn.a,{value:m.screenSharingFrameRate||"",onChange:function(e){e.target.value&&s.updateScreenSharing({newFrameRate:e.target.value})},name:"Frame rate",autoWidth:!0,className:p.selectEmpty},[1,5,10,15,20,25,30].map((function(e){return c.a.createElement(En.a,{key:e,value:e},e)}))),c.a.createElement(yn.a,null,c.a.createElement(C.a,{id:"settings.screenSharingFrameRate",defaultMessage:"Select your screen sharing frame rate"})))))),c.a.createElement("form",{className:p.setting,autoComplete:"off"},c.a.createElement(wn.a,{className:p.formControl},c.a.createElement(kn.a,{value:m.selectedAudioDevice||"",onChange:function(e){e.target.value&&s.updateMic({restart:!0,newDeviceId:e.target.value})},displayEmpty:!0,name:f.formatMessage({id:"settings.audio",defaultMessage:"Audio input device"}),autoWidth:!0,className:p.selectEmpty,disabled:0===t.length||u.audioInProgress},t.map((function(e,a){return c.a.createElement(En.a,{key:a,value:e.deviceId},""===e.label?a+1:e.label)}))),c.a.createElement(yn.a,null,t.length>0?f.formatMessage({id:"settings.selectAudio",defaultMessage:"Select audio input device"}):f.formatMessage({id:"settings.cantSelectAudio",defaultMessage:"Unable to select audio input device"}))),"audioOutputSupportedBrowsers"in window.config&&window.config.audioOutputSupportedBrowsers.includes(u.browser.name)&&c.a.createElement(wn.a,{className:p.formControl},c.a.createElement(kn.a,{value:m.selectedAudioOutputDevice||"",onChange:function(e){e.target.value&&s.changeAudioOutputDevice(e.target.value)},displayEmpty:!0,name:f.formatMessage({id:"settings.audioOutput",defaultMessage:"Audio output device"}),autoWidth:!0,className:p.selectEmpty,disabled:0===n.length||u.audioOutputInProgress},n.map((function(e,a){return c.a.createElement(En.a,{key:a,value:e.deviceId},e.label)}))),c.a.createElement(yn.a,null,n.length>0?f.formatMessage({id:"settings.selectAudioOutput",defaultMessage:"Select audio output device"}):f.formatMessage({id:"settings.cantSelectAudioOutput",defaultMessage:"Unable to select audio output device"}))),c.a.createElement(ln.a,{className:p.root,component:"nav"},c.a.createElement(cn.a,{button:!0,onClick:function(){return v(!h)}},c.a.createElement(un.a,{primary:f.formatMessage({id:"settings.showAdvancedAudio",defaultMessage:"Advanced audio settings"})}),h?c.a.createElement(Nn.a,null):c.a.createElement(jn.a,null)),c.a.createElement(Sn.a,{in:h,timeout:"auto"},c.a.createElement(ln.a,{component:"div"},c.a.createElement(cn.a,{className:p.nested},c.a.createElement(Mn.a,{className:Be()(p.setting,p.switchLabel),control:c.a.createElement(xn.a,{color:"secondary",checked:m.echoCancellation,onChange:function(e){r(e.target.checked),s.updateMic()}}),labelPlacement:"start",label:f.formatMessage({id:"settings.echoCancellation",defaultMessage:"Echo cancellation"})})),c.a.createElement(cn.a,{className:p.nested},c.a.createElement(Mn.a,{className:Be()(p.setting,p.switchLabel),control:c.a.createElement(xn.a,{color:"secondary",checked:m.autoGainControl,onChange:function(e){o(e.target.checked),s.updateMic()}}),labelPlacement:"start",label:f.formatMessage({id:"settings.autoGainControl",defaultMessage:"Auto gain control"})})),c.a.createElement(cn.a,{className:p.nested},c.a.createElement(Mn.a,{className:Be()(p.setting,p.switchLabel),control:c.a.createElement(xn.a,{color:"secondary",checked:m.noiseSuppression,onChange:function(e){l(e.target.checked),s.updateMic()}}),labelPlacement:"start",label:f.formatMessage({id:"settings.noiseSuppression",defaultMessage:"Noise suppression"})})),c.a.createElement(cn.a,{className:p.nested},c.a.createElement(Mn.a,{className:Be()(p.setting,p.switchLabel),control:c.a.createElement(xn.a,{color:"secondary",checked:m.voiceActivatedUnmute,onChange:function(e){i(e.target.checked)}}),labelPlacement:"start",label:f.formatMessage({id:"settings.voiceActivatedUnmute",defaultMessage:"Voice activated unmute"})})),c.a.createElement(cn.a,{className:p.nested},c.a.createElement("div",{className:p.margin}),c.a.createElement(He.a,{gutterBottom:!0},f.formatMessage({id:"settings.noiseThreshold",defaultMessage:"Noise threshold"}),":"),c.a.createElement(Pn,{className:Be()(p.slider,Be.a.setting),key:"noise-threshold-slider",min:-100,value:m.noiseThreshold,max:0,valueLabelDisplay:"auto",onChange:function(e,a){s._setNoiseThreshold(a)},marks:[{value:d,label:"".concat(d," dB")}]})))))))})))),An={onTogglePermanentTopBar:vn.t,onToggleHiddenControls:vn.r,onToggleShowNotifications:vn.u,onToggleButtonControlBar:vn.p,onToggleDrawerOverlayed:vn.q,handleChangeMode:b.h},Rn=Object(u.b)((function(e){return{isMobile:"mobile"===e.me.browser.platform,room:e.room,settings:e.settings}}),An,null,{areStatesEqual:function(e,a){return a.me.browser===e.me.browser&&a.room===e.room&&a.settings===e.settings}})(Object(p.a)((function(e){return{setting:{padding:e.spacing(2)},formControl:{display:"flex"},switchLabel:{justifyContent:"space-between",flex:"auto",display:"flex",padding:e.spacing(1),marginRight:0}}}))((function(e){var a=e.isMobile,t=e.room,n=e.settings,r=e.onTogglePermanentTopBar,o=e.onToggleHiddenControls,l=e.onToggleButtonControlBar,i=e.onToggleShowNotifications,s=e.onToggleDrawerOverlayed,u=e.handleChangeMode,d=e.classes,m=Object(be.a)(),p=[{value:"democratic",label:m.formatMessage({id:"label.democratic",defaultMessage:"Democratic view"})},{value:"filmstrip",label:m.formatMessage({id:"label.filmstrip",defaultMessage:"Filmstrip view"})}];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:d.setting,autoComplete:"off"},c.a.createElement(wn.a,{className:d.formControl},c.a.createElement(kn.a,{value:t.mode||"",onChange:function(e){e.target.value&&u(e.target.value)},name:m.formatMessage({id:"settings.layout",defaultMessage:"Room layout"}),autoWidth:!0,className:d.selectEmpty},p.map((function(e,a){return c.a.createElement(En.a,{key:a,value:e.value},e.label)}))),c.a.createElement(yn.a,null,c.a.createElement(C.a,{id:"settings.selectRoomLayout",defaultMessage:"Select room layout"})))),c.a.createElement(Mn.a,{className:Be()(d.setting,d.switchLabel),control:c.a.createElement(xn.a,{checked:n.permanentTopBar,onChange:r,value:"permanentTopBar"}),labelPlacement:"start",label:m.formatMessage({id:"settings.permanentTopBar",defaultMessage:"Permanent top bar"})}),c.a.createElement(Mn.a,{className:Be()(d.setting,d.switchLabel),control:c.a.createElement(xn.a,{checked:n.hiddenControls,onChange:o,value:"hiddenControls"}),labelPlacement:"start",label:m.formatMessage({id:"settings.hiddenControls",defaultMessage:"Hidden media controls"})}),c.a.createElement(Mn.a,{className:Be()(d.setting,d.switchLabel),control:c.a.createElement(xn.a,{checked:n.buttonControlBar,onChange:l,value:"buttonControlBar"}),labelPlacement:"start",label:m.formatMessage({id:"settings.buttonControlBar",defaultMessage:"Separate media controls"})}),!a&&c.a.createElement(Mn.a,{className:Be()(d.setting,d.switchLabel),control:c.a.createElement(xn.a,{checked:n.drawerOverlayed,onChange:s,value:"drawerOverlayed"}),labelPlacement:"start",label:m.formatMessage({id:"settings.drawerOverlayed",defaultMessage:"Side drawer over content"})}),c.a.createElement(Mn.a,{className:Be()(d.setting,d.switchLabel),control:c.a.createElement(xn.a,{checked:n.showNotifications,onChange:i,value:"showNotifications"}),labelPlacement:"start",label:m.formatMessage({id:"settings.showNotifications",defaultMessage:"Show notifications"})}))}))),Bn={onToggleAdvancedMode:vn.o,onToggleNotificationSounds:vn.s},Vn=Object(Me.b)(Object(u.b)((function(e){return{settings:e.settings}}),Bn,null,{areStatesEqual:function(e,a){return a.settings===e.settings}})(Object(p.a)((function(e){return{setting:{padding:e.spacing(2)},formControl:{display:"flex"},switchLabel:{justifyContent:"space-between",flex:"auto",display:"flex",padding:e.spacing(1),marginRight:0}}}))((function(e){var a=e.roomClient,t=e.settings,n=e.onToggleAdvancedMode,r=e.onToggleNotificationSounds,o=e.classes,l=Object(be.a)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(Mn.a,{className:Be()(o.setting,o.switchLabel),control:c.a.createElement(xn.a,{checked:t.advancedMode,onChange:n,value:"advancedMode"}),labelPlacement:"start",label:l.formatMessage({id:"settings.advancedMode",defaultMessage:"Advanced mode"})}),c.a.createElement(Mn.a,{className:Be()(o.setting,o.switchLabel),control:c.a.createElement(xn.a,{checked:t.notificationSounds,onChange:r,value:"notificationSounds"}),labelPlacement:"start",label:l.formatMessage({id:"settings.notificationSounds",defaultMessage:"Notification sounds"})}),!window.config.lockLastN&&c.a.createElement("form",{className:o.setting,autoComplete:"off"},c.a.createElement(wn.a,{className:o.formControl},c.a.createElement(kn.a,{value:t.lastN||"",onChange:function(e){e.target.value&&a.changeMaxSpotlights(e.target.value)},name:"Last N",autoWidth:!0,className:o.selectEmpty},Array.from({length:window.config.maxLastN||10},(function(e,a){return a+1})).map((function(e){return c.a.createElement(En.a,{key:e,value:e},e)}))),c.a.createElement(yn.a,null,c.a.createElement(C.a,{id:"settings.lastn",defaultMessage:"Number of visible videos"})))))})))),Dn=["media","appearence","advanced"],Fn={handleCloseSettings:b.y,setSettingsTab:b.z},zn=Object(u.b)((function(e){return{currentSettingsTab:e.room.currentSettingsTab,settingsOpen:e.room.settingsOpen}}),Fn,null,{areStatesEqual:function(e,a){return a.room.currentSettingsTab===e.room.currentSettingsTab&&a.room.settingsOpen===e.room.settingsOpen}})(Object(p.a)((function(e){var a;return{root:{},dialogPaper:(a={width:"30vw"},Object(i.a)(a,e.breakpoints.down("lg"),{width:"40vw"}),Object(i.a)(a,e.breakpoints.down("md"),{width:"50vw"}),Object(i.a)(a,e.breakpoints.down("sm"),{width:"70vw"}),Object(i.a)(a,e.breakpoints.down("xs"),{width:"90vw"}),a),tabsHeader:{flexGrow:1}}}))((function(e){var a=e.currentSettingsTab,t=e.settingsOpen,n=e.handleCloseSettings,r=e.setSettingsTab,o=e.classes,l=Object(be.a)();return c.a.createElement(an.a,{className:o.root,open:t,onClose:function(){return n(!1)},classes:{paper:o.dialogPaper}},c.a.createElement(tn.a,{id:"form-dialog-title"},c.a.createElement(C.a,{id:"settings.settings",defaultMessage:"Settings"})),c.a.createElement(ve.a,{className:o.tabsHeader,value:Dn.indexOf(a),onChange:function(e,a){return r(Dn[a])},indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},c.a.createElement(Ee.a,{label:l.formatMessage({id:"label.media",defaultMessage:"Media"})}),c.a.createElement(Ee.a,{label:l.formatMessage({id:"label.appearance",defaultMessage:"Appearence"})}),c.a.createElement(Ee.a,{label:l.formatMessage({id:"label.advanced",defaultMessage:"Advanced"})})),"media"===a&&c.a.createElement(In,null),"appearence"===a&&c.a.createElement(Rn,null),"advanced"===a&&c.a.createElement(Vn,null),c.a.createElement(nn.a,null,c.a.createElement(Le.a,{onClick:function(){return n(!1)},color:"primary"},c.a.createElement(C.a,{id:"label.close",defaultMessage:"Close"}))))}))),Hn=t(676),Wn=t(195),qn=t(336),Un=t(629),_n=t.n(Un),Gn=t(640),Yn=t.n(Gn),Kn=t(409),Qn=t.n(Kn),Xn=t(634),Jn=t.n(Xn),$n=t(636),Zn=t.n($n),er=t(633),ar=t.n(er),tr=t(638),nr=t.n(tr),rr=t(637),or=t.n(rr),lr=t(635),ir=t.n(lr),sr=t(639),cr=t.n(sr),ur=t(631),dr=t.n(ur),mr=t(632),pr=t.n(mr),fr=t(630),gr=t.n(fr);window.addEventListener("hashchange",(function(e){console.log("hashchanged"),1==window.confirm("This will DISCONNECT the meeting. \n Are you sure to disconnect?")||(e.preventDefault(),console.log("Stayed in meeting"))}));var br=Object(p.a)((function(e){return{badge:{backgroundColor:e.palette.secondary.main,"&::after":{position:"absolute",width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"3px solid ".concat(e.palette.secondary.main),content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(ye.a),hr=Object(Me.b)(Object(u.b)((function(){var e=ge(Te),a=ge(ke),t=ge(Ce);return function(n){return{room:n.room,isMobile:"mobile"===n.me.browser.platform,peersLength:ue(n),lobbyPeers:Q(n),permanentTopBar:n.settings.permanentTopBar,drawerOverlayed:n.settings.drawerOverlayed,toolAreaOpen:n.toolarea.toolAreaOpen,loggedIn:n.me.loggedIn,loginEnabled:n.me.loginEnabled,myPicture:n.me.picture,unread:n.toolarea.unreadMessages+n.toolarea.unreadFiles+de(n),canProduceExtraVideo:e(n),canLock:a(n),canPromote:t(n)}}}),(function(e){return{setToolbarsVisible:function(a){e(b.F(a))},setFilmStrip:function(a){e(b.h(a))},setSettingsOpen:function(a){e(b.y(a))},setExtraVideoOpen:function(a){e(b.i(a))},setHelpOpen:function(a){e(b.k(a))},setAboutOpen:function(a){e(b.b(a))},setLockDialogOpen:function(a){e(b.o(a))},toggleToolArea:function(){e({type:"TOGGLE_TOOL_AREA"})},openUsersTab:function(){e({type:"OPEN_TOOL_AREA"}),e(h("users"))}}}),null,{areStatesEqual:function(e,a){return a.room===e.room&&a.peers===e.peers&&a.lobbyPeers===e.lobbyPeers&&a.settings.permanentTopBar===e.settings.permanentTopBar&&a.settings.drawerOverlayed===e.settings.drawerOverlayed&&a.me.loggedIn===e.me.loggedIn&&a.me.browser===e.me.browser&&a.me.loginEnabled===e.me.loginEnabled&&a.me.picture===e.me.picture&&a.me.roles===e.me.roles&&a.toolarea.unreadMessages===e.toolarea.unreadMessages&&a.toolarea.unreadFiles===e.toolarea.unreadFiles&&a.toolarea.toolAreaOpen===e.toolarea.toolAreaOpen}})(Object(p.a)((function(e){var a;return{persistentDrawerOpen:(a={width:"calc(100% - 30vw)",marginLeft:"30vw"},Object(i.a)(a,e.breakpoints.down("lg"),{width:"calc(100% - 40vw)",marginLeft:"40vw"}),Object(i.a)(a,e.breakpoints.down("md"),{width:"calc(100% - 50vw)",marginLeft:"50vw"}),Object(i.a)(a,e.breakpoints.down("sm"),{width:"calc(100% - 70vw)",marginLeft:"70vw"}),Object(i.a)(a,e.breakpoints.down("xs"),{width:"calc(100% - 90vw)",marginLeft:"90vw"}),a),menuButton:{margin:0,padding:0},logo:Object(i.a)({display:"none",marginLeft:20},e.breakpoints.up("sm"),{display:"block"}),divider:{marginLeft:e.spacing(3)},show:{opacity:1,transition:"opacity .5s"},hide:{opacity:0,transition:"opacity .5s"},grow:{flexGrow:1},title:Object(i.a)({display:"none",marginLeft:20},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(i.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(i.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),actionButton:{margin:e.spacing(1,0),padding:e.spacing(0,1)},disabledButton:{margin:e.spacing(1,0)},green:{color:"rgba(0, 153, 0, 1)"},moreAction:{margin:e.spacing(.5,0,.5,1.5)}}}),{withTheme:!0})((function(e){var a=Object(be.a)(),t=Object(s.useState)(null),n=Object(Ke.a)(t,2),r=n[0],o=n[1],l=Object(s.useState)(null),i=Object(Ke.a)(l,2),u=i[0],d=i[1],m=Object(s.useState)(null),p=Object(Ke.a)(m,2),f=p[0],g=p[1],b=function(){d(null),o(null)},h=e.roomClient,v=e.room,E=e.peersLength,y=e.lobbyPeers,w=e.permanentTopBar,M=e.drawerOverlayed,k=e.toolAreaOpen,S=e.isMobile,O=e.myPicture,N=e.loggedIn,T=e.loginEnabled,j=e.fullscreenEnabled,x=e.fullscreen,P=e.onFullscreen,L=e.setSettingsOpen,I=e.setFilmStrip,A=e.setExtraVideoOpen,R=e.setHelpOpen,B=e.setAboutOpen,V=e.setLockDialogOpen,D=e.toggleToolArea,F=e.openUsersTab,z=e.unread,H=e.canProduceExtraVideo,W=e.canLock,q=e.canPromote,U=e.classes,_=Boolean(u),G=Boolean(r),Y=v.locked?a.formatMessage({id:"tooltip.unLockRoom",defaultMessage:"Unlock room"}):a.formatMessage({id:"tooltip.lockRoom",defaultMessage:"Lock room"}),K=x?a.formatMessage({id:"tooltip.leaveFullscreen",defaultMessage:"Leave fullscreen"}):a.formatMessage({id:"tooltip.enterFullscreen",defaultMessage:"Enter fullscreen"}),Q=N?a.formatMessage({id:"tooltip.logout",defaultMessage:"Log out"}):a.formatMessage({id:"tooltip.login",defaultMessage:"Log in"});return c.a.createElement(c.a.Fragment,null,c.a.createElement(he.a,{position:"fixed",className:Be()(v.toolbarsVisible||w?U.show:U.hide,S||M||!k?null:U.persistentDrawerOpen)},c.a.createElement(Hn.a,null,c.a.createElement(br,{color:"secondary",badgeContent:z,onClick:function(){return D()}},c.a.createElement(Xe.a,{color:"inherit","aria-label":a.formatMessage({id:"label.openDrawer",defaultMessage:"Open drawer"}),className:U.menuButton},c.a.createElement(_n.a,null))),window.config.logo&&c.a.createElement("img",{alt:"Logo",className:U.logo,src:window.config.logo}),c.a.createElement(He.a,{className:U.title,variant:"h6",color:"inherit",noWrap:!0},h.getRoomId()),c.a.createElement(En.a,{onClick:function(){b();var e=document.createElement("input"),a="https://guruquest.gq/"+h.getRoomId();document.body.appendChild(e),e.value=a,e.select(),document.execCommand("copy"),navigator.clipboard.writeText(a);alert("Room Link ("+e.value+") copied to clipboard.\nPaste it in social media to share.");document.body.removeChild(e)}},c.a.createElement(gr.a,{"aria-label":a.formatMessage({id:"label.copyRoomLink",defaultMessage:"Copy Room Link"})})),c.a.createElement("div",{className:U.grow}),c.a.createElement("div",{className:U.sectionDesktop},c.a.createElement(ba.a,{title:a.formatMessage({id:"label.changeView",defaultMessage:"Change View"})},c.a.createElement(Xe.a,{"aria-owns":_&&"moreActions"===f?"material-appbar":void 0,"aria-haspopup":!0,onClick:function(){console.log("room mode: "+v.mode);var e=v.mode;I("filmstrip"==e?"democratic":"filmstrip"),console.log("button clicked"),console.log("room mode: "+v.mode)},color:"inherit"},"filmstrip"==v.mode?c.a.createElement(dr.a,null):c.a.createElement(pr.a,null))),j&&c.a.createElement(ba.a,{title:K},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.enterFullscreen",defaultMessage:"Enter fullscreen"}),className:U.actionButton,color:"inherit",onClick:P},x?c.a.createElement(Gt.a,null):c.a.createElement(At.a,null))),c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.participants",defaultMessage:"Show participants"})},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.participants",defaultMessage:"Show participants"}),color:"inherit",onClick:function(){return F()}},c.a.createElement(ye.a,{color:"primary",badgeContent:E+1},c.a.createElement(ar.a,null)))),c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.settings",defaultMessage:"Show settings"})},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.settings",defaultMessage:"Show settings"}),className:U.actionButton,color:"inherit",onClick:function(){return L(!v.settingsOpen)}},c.a.createElement(Jn.a,null))),c.a.createElement(ba.a,{title:Y},c.a.createElement("span",{className:U.disabledButton},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.lockRoom",defaultMessage:"Lock room"}),className:U.actionButton,color:"inherit",disabled:!W,onClick:function(){v.locked?h.unlockRoom():h.lockRoom()}},v.locked?c.a.createElement(Xa.a,null):c.a.createElement($a.a,null)))),c.a.createElement(ba.a,{title:a.formatMessage({id:"label.moreActions",defaultMessage:"Help"})},c.a.createElement(Xe.a,{"aria-owns":_&&"moreActions"===f?"material-appbar":void 0,"aria-haspopup":!0,onClick:function(e){return R(!v.helpOpen)},color:"inherit"},c.a.createElement(ir.a,null))),y.length>0&&c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.lobby",defaultMessage:"Show lobby"})},c.a.createElement("span",{className:U.disabledButton},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.lobby",defaultMessage:"Show lobby"}),className:U.actionButton,color:"inherit",disabled:!q,onClick:function(){return V(!v.lockDialogOpen)}},c.a.createElement(br,{color:"secondary",badgeContent:y.length},c.a.createElement(Zn.a,null))))),T&&c.a.createElement(ba.a,{title:Q},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.login",defaultMessage:"Log in"}),className:U.actionButton,color:"inherit",onClick:function(){N?h.logout():h.login()}},O?c.a.createElement(mn.a,{src:O}):c.a.createElement(Qn.a,{className:N?U.green:null})))),c.a.createElement("div",{className:U.sectionMobile},y.length>0&&c.a.createElement(ba.a,{title:a.formatMessage({id:"tooltip.lobby",defaultMessage:"Show lobby"})},c.a.createElement("span",{className:U.disabledButton},c.a.createElement(Xe.a,{"aria-label":a.formatMessage({id:"tooltip.lobby",defaultMessage:"Show lobby"}),className:U.actionButton,color:"inherit",disabled:!q,onClick:function(){return V(!v.lockDialogOpen)}},c.a.createElement(br,{color:"secondary",badgeContent:y.length},c.a.createElement(Zn.a,null))))),c.a.createElement(Xe.a,{"aria-haspopup":!0,onClick:function(e){o(e.currentTarget)},color:"inherit"},c.a.createElement(or.a,null))),c.a.createElement("div",{className:U.divider}),c.a.createElement(Le.a,{"aria-label":a.formatMessage({id:"label.leave",defaultMessage:"Leave"}),className:U.actionButton,variant:"contained",color:"secondary",onClick:function(){1==window.confirm("Leave meeting for sure?")?h.close():console.log("Stayed in meeting")}},c.a.createElement(C.a,{id:"label.leave",defaultMessage:"Leave"})))),c.a.createElement(qn.a,{anchorEl:u,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:_,onClose:b,onExited:function(){g(null)},getContentAnchorEl:null},"moreActions"===f&&c.a.createElement(we.a,null,c.a.createElement(En.a,{disabled:!H,onClick:function(){b(),A(!v.extraVideoOpen)}},c.a.createElement(nr.a,{"aria-label":a.formatMessage({id:"label.addVideo",defaultMessage:"Add video"})}),c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"label.addVideo",defaultMessage:"Add video"}))),c.a.createElement(En.a,{onClick:function(){b(),R(!v.helpOpen)}},c.a.createElement(ir.a,{"aria-label":a.formatMessage({id:"room.help",defaultMessage:"Help"})}),c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"room.help",defaultMessage:"Help"}))),c.a.createElement(En.a,{onClick:function(){b(),B(!v.aboutOpen)}},c.a.createElement(cr.a,{"aria-label":a.formatMessage({id:"room.about",defaultMessage:"About"})}),c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"room.about",defaultMessage:"About"}))))),c.a.createElement(Wn.a,{anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},open:G,onClose:b,getContentAnchorEl:null},T&&c.a.createElement(En.a,{"aria-label":Q,onClick:function(){b(),N?h.logout():h.login()}},O?c.a.createElement(mn.a,{src:O}):c.a.createElement(Qn.a,{className:N?U.green:null}),N?c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"tooltip.logout",defaultMessage:"Log out"})):c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"tooltip.login",defaultMessage:"Log in"}))),c.a.createElement(En.a,{"aria-label":a.formatMessage({id:"label.changeView",defaultMessage:"Change View"}),onClick:function(){console.log("room mode: "+v.mode);var e=v.mode;I("filmstrip"==e?"democratic":"filmstrip"),console.log("button clicked"),console.log("room mode: "+v.mode)}},"filmstrip"==v.mode?c.a.createElement(dr.a,null):c.a.createElement(pr.a,null),c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"tooltip.changeView",defaultMessage:"Change View"}))),c.a.createElement(En.a,{"aria-label":Y,disabled:!W,onClick:function(){b(),v.locked?h.unlockRoom():h.lockRoom()}},v.locked?c.a.createElement(Xa.a,null):c.a.createElement($a.a,null),v.locked?c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"tooltip.unLockRoom",defaultMessage:"Unlock room"})):c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"tooltip.lockRoom",defaultMessage:"Lock room"}))),c.a.createElement(En.a,{"aria-label":a.formatMessage({id:"tooltip.settings",defaultMessage:"Show settings"}),onClick:function(){b(),L(!v.settingsOpen)}},c.a.createElement(Jn.a,null),c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"tooltip.settings",defaultMessage:"Show settings"}))),c.a.createElement(En.a,{"aria-label":a.formatMessage({id:"tooltip.participants",defaultMessage:"Show participants"}),onClick:function(){b(),F()}},c.a.createElement(ye.a,{color:"primary",badgeContent:E+1},c.a.createElement(ar.a,null)),c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"tooltip.participants",defaultMessage:"Show participants"}))),j&&c.a.createElement(En.a,{"aria-label":a.formatMessage({id:"tooltip.enterFullscreen",defaultMessage:"Enter fullscreen"}),onClick:function(){b(),P()}},x?c.a.createElement(Gt.a,null):c.a.createElement(At.a,null),c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"tooltip.enterFullscreen",defaultMessage:"Enter fullscreen"}))),c.a.createElement(En.a,{"aria-label":a.formatMessage({id:"label.moreActions",defaultMessage:"Add video"}),onClick:function(e){return function(e,a){d(e.currentTarget),g(a)}(e,"moreActions")}},c.a.createElement(Yn.a,null),c.a.createElement("p",{className:U.moreAction},c.a.createElement(C.a,{id:"label.moreActions",defaultMessage:"More actions"})))))})))),vr=t(641),Er=t.n(vr),yr={handleCloseExtraVideo:b.i},wr=Object(Me.b)(Object(u.b)((function(e){return{webcamDevices:e.me.webcamDevices,extraVideoOpen:e.room.extraVideoOpen}}),yr,null,{areStatesEqual:function(e,a){return a.me.webcamDevices===e.me.webcamDevices&&a.room.extraVideoOpen===e.room.extraVideoOpen}})(Object(p.a)((function(e){var a;return{dialogPaper:(a={width:"30vw"},Object(i.a)(a,e.breakpoints.down("lg"),{width:"40vw"}),Object(i.a)(a,e.breakpoints.down("md"),{width:"50vw"}),Object(i.a)(a,e.breakpoints.down("sm"),{width:"70vw"}),Object(i.a)(a,e.breakpoints.down("xs"),{width:"90vw"}),a),setting:{padding:e.spacing(2)},formControl:{display:"flex"}}}))((function(e){var a,t=e.roomClient,n=e.extraVideoOpen,r=e.webcamDevices,o=e.handleCloseExtraVideo,l=e.classes,i=Object(be.a)(),s=c.a.useState(""),u=Object(Ke.a)(s,2),d=u[0],m=u[1];return a=r?Object.values(r):[],c.a.createElement(an.a,{open:n,onClose:function(){return o(!1)},classes:{paper:l.dialogPaper}},c.a.createElement(tn.a,{id:"form-dialog-title"},c.a.createElement(C.a,{id:"room.extraVideo",defaultMessage:"Extra video"})),c.a.createElement("form",{className:l.setting,autoComplete:"off"},c.a.createElement(wn.a,{className:l.formControl},c.a.createElement(kn.a,{value:d,displayEmpty:!0,name:i.formatMessage({id:"settings.camera",defaultMessage:"Camera"}),autoWidth:!0,className:l.selectEmpty,disabled:0===a.length,onChange:function(e){m(e.target.value)}},a.map((function(e,a){return c.a.createElement(En.a,{key:a,value:e.deviceId},e.label)}))),c.a.createElement(yn.a,null,a.length>0?i.formatMessage({id:"settings.selectCamera",defaultMessage:"Select video device"}):i.formatMessage({id:"settings.cantSelectCamera",defaultMessage:"Unable to select video device"})))),c.a.createElement(nn.a,null,c.a.createElement(Le.a,{onClick:function(){return t.addExtraVideo(d)},color:"primary"},c.a.createElement(C.a,{id:"label.addVideo",defaultMessage:"Add video"}))))})))),Mr=t(645),kr=t.n(Mr),Cr=t(471),Sr=t.n(Cr),Or=t(472),Nr=t.n(Or),Tr=Object(Me.b)(Object(u.b)((function(e){return Object(fa.a)(Object(fa.a)({toolbarsVisible:e.room.toolbarsVisible,hiddenControls:e.settings.hiddenControls,silenced:e.room.silenced,fixed:e.room.fixed,drawerOverlayed:e.settings.drawerOverlayed,toolAreaOpen:e.toolarea.toolAreaOpen},pe(e)),{},{me:e.me,myId:e.me.id,roles:e.me.roles})}),null,null,{areStatesEqual:function(e,a){return a.room.toolbarsVisible===e.room.toolbarsVisible&&a.settings.hiddenControls===e.settings.hiddenControls&&a.settings.drawerOverlayed===e.settings.drawerOverlayed&&a.toolarea.toolAreaOpen===e.toolarea.toolAreaOpen&&a.producers===e.producers&&a.me===e.me}})(Object(p.a)((function(e){var a,t;return{root:(a={position:"fixed",display:"flex",zIndex:30},Object(i.a)(a,e.breakpoints.up("md"),{top:"50%",transform:"translate(0%, -50%)",flexDirection:"column",justifyContent:"center",alignItems:"center",left:e.spacing(1)}),Object(i.a)(a,e.breakpoints.down("sm"),{flexDirection:"row",bottom:e.spacing(1),left:"50%",transform:"translate(-50%, -0%)"}),a),fab:{margin:e.spacing(1)},show:{opacity:1,transition:"opacity .5s"},hide:{opacity:0,transition:"opacity .5s"},move:(t={left:"30vw",top:"50%",transform:"translate(0%, -50%)",flexDirection:"column",justifyContent:"center",alignItems:"center"},Object(i.a)(t,e.breakpoints.down("lg"),{left:"40vw"}),Object(i.a)(t,e.breakpoints.down("md"),{left:"50vw"}),Object(i.a)(t,e.breakpoints.down("sm"),{left:"70vw"}),Object(i.a)(t,e.breakpoints.down("xs"),{left:"90vw"}),t)}}),{withTheme:!0})((function(e){var a,t,n,r,o,l,i=Object(be.a)(),s=e.roomClient,u=e.toolbarsVisible,d=e.hiddenControls,m=e.drawerOverlayed,p=e.toolAreaOpen,f=e.me,g=e.myId,b=e.fixed,h=e.roles,v=e.silenced,E=e.micProducer,y=e.webcamProducer,w=e.screenProducer,M=e.classes,k=e.theme;f.canSendMic?E?E.locallyPaused||E.remotelyPaused?(a="muted",t=i.formatMessage({id:"device.unMuteAudio",defaultMessage:"Unmute audio"})):(a="on",t=i.formatMessage({id:"device.muteAudio",defaultMessage:"Mute audio"})):(a="off",t=i.formatMessage({id:"device.activateAudio",defaultMessage:"Activate audio"})):(a="unsupported",t=i.formatMessage({id:"device.audioUnsupported",defaultMessage:"Audio unsupported"})),f.canSendWebcam?y?(n="on",r=i.formatMessage({id:"device.stopVideo",defaultMessage:"Stop video"})):(n="off",r=i.formatMessage({id:"device.startVideo",defaultMessage:"Start video"})):(n="unsupported",r=i.formatMessage({id:"device.videoUnsupported",defaultMessage:"Video unsupported"})),f.canShareScreen?w?(o="on",l=i.formatMessage({id:"device.stopScreenSharing",defaultMessage:"Stop screen sharing"})):(o="off",l=i.formatMessage({id:"device.startScreenSharing",defaultMessage:"Start screen sharing"})):(o="unsupported",l=i.formatMessage({id:"device.screenSharingUnsupported",defaultMessage:"Screen sharing not supported"}));var C=f.raisedHand?i.formatMessage({id:"tooltip.lockRoom",defaultMessage:"Lower Hand"}):i.formatMessage({id:"tooltip.unLockRoom",defaultMessage:"Raise Hand"}),S=Object(ut.a)(k.breakpoints.down("sm"));return c.a.createElement("div",{className:Be()(M.root,d?u?M.show:M.hide:M.show,p&&"mobile"!==f.browser.platform&&!m?M.move:null)},!h.indexOf("moderator")>-1&&v&&c.a.createElement(ba.a,{title:C,placement:"bottom"},c.a.createElement(xt.a,{"aria-label":C,className:M.fab,disabled:f.raisedHandInProgress,color:f.raisedHand?"secondary":"default",onClick:function(e){e.stopPropagation(),s.setRaisedHand(!f.raisedHand)}},f.raisedHand?c.a.createElement(za.a,null):c.a.createElement(kr.a,null))),(h.indexOf("moderator")>-1||!v||g==b)&&c.a.createElement(ba.a,{title:t,placement:S?"top":"right"},c.a.createElement(xt.a,{"aria-label":i.formatMessage({id:"device.muteAudio",defaultMessage:"Mute audio"}),className:M.fab,disabled:!f.canSendMic||f.audioInProgress,color:"on"===a?"default":"secondary",size:S?"large":"medium",onClick:function(){"off"===a?s.updateMic({start:!0}):"on"===a?s.muteMic():s.unmuteMic()}},"on"===a?c.a.createElement(Oa.a,null):c.a.createElement(Ta.a,null))),c.a.createElement(ba.a,{title:r,placement:S?"top":"right"},c.a.createElement(xt.a,{"aria-label":i.formatMessage({id:"device.startVideo",defaultMessage:"Start video"}),className:M.fab,disabled:!f.canSendWebcam||f.webcamInProgress,color:"on"===n?"default":"secondary",size:S?"large":"medium",onClick:function(){"on"===n?s.disableWebcam():s.updateWebcam({start:!0})}},"on"===n?c.a.createElement(va.a,null):c.a.createElement(Ma.a,null))),c.a.createElement(ba.a,{title:"Previous video page",placement:S?"top":"right"},c.a.createElement(xt.a,{"aria-label":i.formatMessage({id:"device.previousPage",defaultMessage:"Previous video page"}),className:M.fab,size:S?"large":"medium",onClick:function(){s.pageNavigate("previous")}},c.a.createElement(Sr.a,null))),c.a.createElement(ba.a,{title:"Next video page",placement:S?"top":"right"},c.a.createElement(xt.a,{"aria-label":i.formatMessage({id:"device.previousPage",defaultMessage:"Next video page"}),className:M.fab,size:S?"large":"medium",onClick:function(){s.pageNavigate("next")}},c.a.createElement(Nr.a,null))),"mobile"!==f.browser.platform&&c.a.createElement(ba.a,{title:l,placement:S?"top":"right"},c.a.createElement(xt.a,{"aria-label":i.formatMessage({id:"device.startScreenSharing",defaultMessage:"Start screen sharing"}),className:M.fab,disabled:!f.canShareScreen||f.screenShareInProgress,color:"on"===o?"primary":"default",size:S?"large":"medium",onClick:function(){"off"===o?s.updateScreenSharing({start:!0}):"on"===o&&s.disableScreenSharing()}},"on"===o||"unsupported"===o?c.a.createElement(Ba.a,null):null,"off"===o?c.a.createElement(Aa.a,null):null)))})))),jr=[{key:"h",label:"room.help",defaultMessage:"Help"},{key:"m",label:"device.muteAudio",defaultMessage:"Mute Audio"},{key:"v",label:"device.stopVideo",defaultMessage:"Mute Video"},{key:"1",label:"label.democratic",defaultMessage:"Democratic View"},{key:"2",label:"label.filmstrip",defaultMessage:"Filmstrip View"},{key:"space",label:"me.mutedPTT",defaultMessage:"Push SPACE to talk"},{key:"a",label:"label.advanced",defaultMessage:"Show advanced information"},{key:"".concat(String.fromCharCode(8592)," ").concat(String.fromCharCode(8594)),label:"room.browsePeersSpotlight",defaultMessage:"Browse participants into Spotlight"}],xr={handleCloseHelp:b.k},Pr=Object(Me.b)(Object(u.b)((function(e){return{helpOpen:e.room.helpOpen}}),xr,null,{areStatesEqual:function(e,a){return a.room.helpOpen===e.room.helpOpen}})(Object(p.a)((function(e){var a;return{dialogPaper:(a={width:"30vw"},Object(i.a)(a,e.breakpoints.down("lg"),{width:"40vw"}),Object(i.a)(a,e.breakpoints.down("md"),{width:"50vw"}),Object(i.a)(a,e.breakpoints.down("sm"),{width:"70vw"}),Object(i.a)(a,e.breakpoints.down("xs"),{width:"90vw"}),Object(i.a)(a,"display","flex"),Object(i.a)(a,"flexDirection","column"),a),paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary,whiteSpace:"nowrap",marginRight:e.spacing(3),marginBottom:e.spacing(1),minWidth:e.spacing(8)},shortcuts:{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},tabsHeader:{flexGrow:1,marginBottom:e.spacing(1)}}}))((function(e){var a=e.helpOpen,t=e.handleCloseHelp,n=e.classes,r=Object(be.a)();return c.a.createElement(an.a,{open:a,onClose:function(){t(!1)},classes:{paper:n.dialogPaper}},c.a.createElement(tn.a,{id:"form-dialog-title"},c.a.createElement(C.a,{id:"room.help",defaultMessage:"Help"})),c.a.createElement(ve.a,{value:0,className:n.tabsHeader,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},c.a.createElement(Ee.a,{label:r.formatMessage({id:"room.shortcutKeys",defaultMessage:"Shortcut keys"})})),jr.map((function(e,a){return c.a.createElement("div",{key:a,className:n.shortcuts},c.a.createElement(we.a,{className:n.paper},e.key),c.a.createElement(C.a,{id:e.label,defaultMessage:e.defaultMessage}))})),c.a.createElement(nn.a,null,c.a.createElement(Le.a,{onClick:function(){t(!1)},color:"primary"},c.a.createElement(C.a,{id:"label.close",defaultMessage:"Close"}))))})))),Lr=t(677),Ir=t(678),Ar={handleCloseAbout:b.b},Rr=Object(Me.b)(Object(u.b)((function(e){return{aboutOpen:e.room.aboutOpen}}),Ar,null,{areStatesEqual:function(e,a){return a.room.aboutOpen===e.room.aboutOpen}})(Object(p.a)((function(e){var a;return{dialogPaper:(a={width:"30vw"},Object(i.a)(a,e.breakpoints.down("lg"),{width:"40vw"}),Object(i.a)(a,e.breakpoints.down("md"),{width:"50vw"}),Object(i.a)(a,e.breakpoints.down("sm"),{width:"70vw"}),Object(i.a)(a,e.breakpoints.down("xs"),{width:"90vw"}),a),logo:{marginRight:"auto"},link:{display:"block",textAlign:"center",marginBottom:e.spacing(1)},divider:{marginBottom:e.spacing(3)}}}))((function(e){var a=e.aboutOpen,t=e.handleCloseAbout,n=e.classes;return c.a.createElement(an.a,{open:a,onClose:function(){return t(!1)},classes:{paper:n.dialogPaper}},c.a.createElement(tn.a,{id:"form-dialog-title"},c.a.createElement(C.a,{id:"room.about",defaultMessage:"About"})),c.a.createElement(rn.a,{dividers:!0},c.a.createElement(on.a,{paragraph:!0},"This Project is Usable, but under development."),c.a.createElement(on.a,{paragraph:!0},"If you have any questions, contact whatsapp on 9890754591"),c.a.createElement(on.a,{align:"center",paragraph:!0},c.a.createElement(Lr.a,{href:"https://wa.link/o24jrn",target:"_blank",rel:"noreferrer",color:"secondary",variant:"h6"},"https://wa.link/o24jrn")),c.a.createElement(on.a,{align:"center",variant:"body2"},c.a.createElement(C.a,{id:"label.version",defaultMessage:"Version"}),":"," ".concat("3.3.0")),c.a.createElement(Ir.a,{variant:"middle",light:!0,className:n.divider}),window.config.supportUrl&&c.a.createElement(on.a,{align:"center",paragraph:!0},c.a.createElement("span",null,"Visit for more info: "),c.a.createElement(Lr.a,{href:window.config.supportUrl,target:"_blank",rel:"noreferrer",color:"secondary"},window.config.supportUrl)),c.a.createElement(Lr.a,{href:window.config.privacyUrl?window.config.privacyUrl:"privacy/privacy.html",target:"_blank",rel:"noreferrer",color:"secondary",className:n.link},"Data protection and Privacy Policy")),c.a.createElement(nn.a,null,window.config.logo&&c.a.createElement("img",{alt:"Logo",className:n.logo,src:window.config.logo}),c.a.createElement(Le.a,{onClick:function(){t(!1)},color:"primary"},c.a.createElement(C.a,{id:"label.close",defaultMessage:"Close"}))))})))),Br=window.config.hideTimeout||5e3,Vr=function(e){Object(o.a)(t,e);var a=Object(l.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=a.call(this,e)).waitForHide=Object(v.b)((function(){r.props.setToolbarsVisible(!1)}),Br),r.handleMovement=function(){r.props.room.toolbarsVisible||r.props.setToolbarsVisible(!0),r.waitForHide()},r.handleToggleFullscreen=function(){r.fullscreen.fullscreenElement?r.fullscreen.exitFullscreen():r.fullscreen.requestFullscreen(document.documentElement)},r.handleFullscreenChange=function(){r.setState({fullscreen:null!==r.fullscreen.fullscreenElement})},r.fullscreen=new k(document),r.state={fullscreen:!1},r}return Object(r.a)(t,[{key:"componentDidMount",value:function(){this.fullscreen.fullscreenEnabled&&this.fullscreen.addEventListener("fullscreenchange",this.handleFullscreenChange),window.addEventListener("mousemove",this.handleMovement),window.addEventListener("touchstart",this.handleMovement)}},{key:"componentWillUnmount",value:function(){this.fullscreen.fullscreenEnabled&&this.fullscreen.removeEventListener("fullscreenchange",this.handleFullscreenChange),window.removeEventListener("mousemove",this.handleMovement),window.removeEventListener("touchstart",this.handleMovement)}},{key:"render",value:function(){var e=this.props,a=e.room,t=e.browser,n=e.advancedMode,r=e.showNotifications,o=e.buttonControlBar,l=e.drawerOverlayed,i=e.toolAreaOpen,s=e.toggleToolArea,u=e.classes,d=e.theme,m={filmstrip:Wt,democratic:Dt}[a.mode],p=void 0!==window?window.document.body:void 0;return c.a.createElement("div",{className:u.root},!g()()&&c.a.createElement(O.a,{buttonText:c.a.createElement(C.a,{id:"room.consentUnderstand",defaultMessage:"I understand"})},c.a.createElement(C.a,{id:"room.cookieConsent",defaultMessage:"This website uses cookies to enhance the user experience"})),c.a.createElement(Yt,{advancedMode:n}),c.a.createElement(en,{advancedMode:n}),c.a.createElement(Ut,null),r&&c.a.createElement(B,null),c.a.createElement(N.a,null),c.a.createElement(hr,{fullscreenEnabled:this.fullscreen.fullscreenEnabled,fullscreen:this.state.fullscreen,onFullscreen:this.handleToggleFullscreen}),"mobile"===t.platform||l?c.a.createElement("nav",null,c.a.createElement(x.a,{implementation:"css"},c.a.createElement(T.a,{container:p,variant:"temporary",anchor:"rtl"===d.direction?"right":"left",open:i,onClose:function(){return s()},onOpen:function(){return s()},classes:{paper:u.drawerPaper},ModalProps:{keepMounted:!0}},c.a.createElement(ct,{closeDrawer:s})))):c.a.createElement("nav",{className:i?u.drawer:null},c.a.createElement(x.a,{implementation:"css"},c.a.createElement(j.a,{variant:"persistent",anchor:"rtl"===d.direction?"right":"left",open:i,onClose:function(){return s()},classes:{paper:u.drawerPaper}},c.a.createElement(ct,{closeDrawer:s})))),"mobile"===t.platform&&"ios"!==t.os&&c.a.createElement(Er.a,null),c.a.createElement(m,{advancedMode:n}),o&&c.a.createElement(Tr,null),a.lockDialogOpen&&c.a.createElement(hn,null),a.settingsOpen&&c.a.createElement(zn,null),a.extraVideoOpen&&c.a.createElement(wr,null),a.helpOpen&&c.a.createElement(Pr,null),a.aboutOpen&&c.a.createElement(Rr,null))}}]),t}(c.a.PureComponent);a.default=Object(u.b)((function(e){return{room:e.room,browser:e.me.browser,advancedMode:e.settings.advancedMode,showNotifications:e.settings.showNotifications,buttonControlBar:e.settings.buttonControlBar,drawerOverlayed:e.settings.drawerOverlayed,toolAreaOpen:e.toolarea.toolAreaOpen}}),(function(e){return{setToolbarsVisible:function(a){e(b.F(a))},toggleToolArea:function(){e({type:"TOGGLE_TOOL_AREA"})}}}),null,{areStatesEqual:function(e,a){return a.room===e.room&&a.me.browser===e.me.browser&&a.settings.advancedMode===e.settings.advancedMode&&a.settings.showNotifications===e.settings.showNotifications&&a.settings.buttonControlBar===e.settings.buttonControlBar&&a.settings.drawerOverlayed===e.settings.drawerOverlayed&&a.toolarea.toolAreaOpen===e.toolarea.toolAreaOpen}})(Object(p.a)((function(e){var a,t;return{root:{display:"flex",width:"100%",height:"100%",backgroundColor:"var(--background-color)",backgroundImage:"url(".concat(window.config?window.config.background:null,")"),backgroundAttachment:"fixed",backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"},drawer:(a={width:"30vw",flexShrink:0},Object(i.a)(a,e.breakpoints.down("lg"),{width:"40vw"}),Object(i.a)(a,e.breakpoints.down("md"),{width:"50vw"}),Object(i.a)(a,e.breakpoints.down("sm"),{width:"70vw"}),Object(i.a)(a,e.breakpoints.down("xs"),{width:"90vw"}),a),drawerPaper:(t={backgroundColor:"#ffffff42",width:"25vw"},Object(i.a)(t,e.breakpoints.down("lg"),{width:"30vw"}),Object(i.a)(t,e.breakpoints.down("md"),{width:"40vw"}),Object(i.a)(t,e.breakpoints.down("sm"),{width:"60vw"}),Object(i.a)(t,e.breakpoints.down("xs"),{width:"80vw"}),t)}}),{withTheme:!0})(Vr))}}]);
//# sourceMappingURL=room.dcf14283.chunk.js.map